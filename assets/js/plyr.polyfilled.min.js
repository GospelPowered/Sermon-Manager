(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define("Plyr",factory):global.Plyr=factory()})(this,function(){"use strict";var commonjsGlobal=typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports}var _global=createCommonjsModule(function(module){var global=module.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=global});var _core=createCommonjsModule(function(module){var core=module.exports={version:"2.5.3"};if(typeof __e=="number")__e=core});var _isObject=function(it){return typeof it==="object"?it!==null:typeof it==="function"};var _anObject=function(it){if(!_isObject(it))throw TypeError(it+" is not an object!");return it};var _fails=function(exec){try{return!!exec()}catch(e){return true}};var _descriptors=!_fails(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7});var document$1=_global.document;var is=_isObject(document$1)&&_isObject(document$1.createElement);var _domCreate=function(it){return is?document$1.createElement(it):{}};var _ie8DomDefine=!_descriptors&&!_fails(function(){return Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a!=7});var _toPrimitive=function(it,S){if(!_isObject(it))return it;var fn,val;if(S&&typeof(fn=it.toString)=="function"&&!_isObject(val=fn.call(it)))return val;if(typeof(fn=it.valueOf)=="function"&&!_isObject(val=fn.call(it)))return val;if(!S&&typeof(fn=it.toString)=="function"&&!_isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")};var dP=Object.defineProperty;var f=_descriptors?Object.defineProperty:function defineProperty(O,P,Attributes){_anObject(O);P=_toPrimitive(P,true);_anObject(Attributes);if(_ie8DomDefine)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");if("value"in Attributes)O[P]=Attributes.value;return O};var _objectDp={f:f};var _propertyDesc=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value}};var _hide=_descriptors?function(object,key,value){return _objectDp.f(object,key,_propertyDesc(1,value))}:function(object,key,value){object[key]=value;return object};var hasOwnProperty={}.hasOwnProperty;var _has=function(it,key){return hasOwnProperty.call(it,key)};var id=0;var px=Math.random();var _uid=function(key){return"Symbol(".concat(key===undefined?"":key,")_",(++id+px).toString(36))};var _redefine=createCommonjsModule(function(module){var SRC=_uid("src");var TO_STRING="toString";var $toString=Function[TO_STRING];var TPL=(""+$toString).split(TO_STRING);_core.inspectSource=function(it){return $toString.call(it)};(module.exports=function(O,key,val,safe){var isFunction=typeof val=="function";if(isFunction)_has(val,"name")||_hide(val,"name",key);if(O[key]===val)return;if(isFunction)_has(val,SRC)||_hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)));if(O===_global){O[key]=val}else if(!safe){delete O[key];_hide(O,key,val)}else if(O[key]){O[key]=val}else{_hide(O,key,val)}})(Function.prototype,TO_STRING,function toString(){return typeof this=="function"&&this[SRC]||$toString.call(this)})});var _aFunction=function(it){if(typeof it!="function")throw TypeError(it+" is not a function!");return it};var _ctx=function(fn,that,length){_aFunction(fn);if(that===undefined)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}};var PROTOTYPE="prototype";var $export=function(type,name,source){var IS_FORCED=type&$export.F;var IS_GLOBAL=type&$export.G;var IS_STATIC=type&$export.S;var IS_PROTO=type&$export.P;var IS_BIND=type&$export.B;var target=IS_GLOBAL?_global:IS_STATIC?_global[name]||(_global[name]={}):(_global[name]||{})[PROTOTYPE];var exports=IS_GLOBAL?_core:_core[name]||(_core[name]={});var expProto=exports[PROTOTYPE]||(exports[PROTOTYPE]={});var key,own,out,exp;if(IS_GLOBAL)source=name;for(key in source){own=!IS_FORCED&&target&&target[key]!==undefined;out=(own?target:source)[key];exp=IS_BIND&&own?_ctx(out,_global):IS_PROTO&&typeof out=="function"?_ctx(Function.call,out):out;if(target)_redefine(target,key,out,type&$export.U);if(exports[key]!=out)_hide(exports,key,exp);if(IS_PROTO&&expProto[key]!=out)expProto[key]=out}};_global.core=_core;$export.F=1;$export.G=2;$export.S=4;$export.P=8;$export.B=16;$export.W=32;$export.U=64;$export.R=128;var _export=$export;var TYPED=_uid("typed_array");var VIEW$1=_uid("view");var ABV=!!(_global.ArrayBuffer&&_global.DataView);var CONSTR=ABV;var i=0;var l=9;var Typed;var TypedArrayConstructors="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(i<l){if(Typed=_global[TypedArrayConstructors[i++]]){_hide(Typed.prototype,TYPED,true);_hide(Typed.prototype,VIEW$1,true)}else CONSTR=false}var _typed={ABV:ABV,CONSTR:CONSTR,TYPED:TYPED,VIEW:VIEW$1};var _library=false;var _redefineAll=function(target,src,safe){for(var key in src)_redefine(target,key,src[key],safe);return target};var _anInstance=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||forbiddenField!==undefined&&forbiddenField in it){throw TypeError(name+": incorrect invocation!")}return it};var ceil=Math.ceil;var floor=Math.floor;var _toInteger=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)};var min=Math.min;var _toLength=function(it){return it>0?min(_toInteger(it),9007199254740991):0};var _toIndex=function(it){if(it===undefined)return 0;var number=_toInteger(it);var length=_toLength(number);if(number!==length)throw RangeError("Wrong length!");return length};var toString={}.toString;var _cof=function(it){return toString.call(it).slice(8,-1)};var _iobject=Object("z").propertyIsEnumerable(0)?Object:function(it){return _cof(it)=="String"?it.split(""):Object(it)};var _defined=function(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it};var _toIobject=function(it){return _iobject(_defined(it))};var max=Math.max;var min$1=Math.min;var _toAbsoluteIndex=function(index,length){index=_toInteger(index);return index<0?max(index+length,0):min$1(index,length)};var _arrayIncludes=function(IS_INCLUDES){return function($this,el,fromIndex){var O=_toIobject($this);var length=_toLength(O.length);var index=_toAbsoluteIndex(fromIndex,length);var value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true}else for(;length>index;index++)if(IS_INCLUDES||index in O){if(O[index]===el)return IS_INCLUDES||index||0}return!IS_INCLUDES&&-1}};var SHARED="__core-js_shared__";var store=_global[SHARED]||(_global[SHARED]={});var _shared=function(key){return store[key]||(store[key]={})};var shared=_shared("keys");var _sharedKey=function(key){return shared[key]||(shared[key]=_uid(key))};var arrayIndexOf=_arrayIncludes(false);var IE_PROTO=_sharedKey("IE_PROTO");var _objectKeysInternal=function(object,names){var O=_toIobject(object);var i=0;var result=[];var key;for(key in O)if(key!=IE_PROTO)_has(O,key)&&result.push(key);while(names.length>i)if(_has(O,key=names[i++])){~arrayIndexOf(result,key)||result.push(key)}return result};var _enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");var hiddenKeys=_enumBugKeys.concat("length","prototype");var f$1=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return _objectKeysInternal(O,hiddenKeys)};var _objectGopn={f:f$1};var _toObject=function(it){return Object(_defined(it))};"use strict";var _arrayFill=function fill(value){var O=_toObject(this);var length=_toLength(O.length);var aLen=arguments.length;var index=_toAbsoluteIndex(aLen>1?arguments[1]:undefined,length);var end=aLen>2?arguments[2]:undefined;var endPos=end===undefined?length:_toAbsoluteIndex(end,length);while(endPos>index)O[index++]=value;return O};var _wks=createCommonjsModule(function(module){var store=_shared("wks");var Symbol=_global.Symbol;var USE_SYMBOL=typeof Symbol=="function";var $exports=module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:_uid)("Symbol."+name))};$exports.store=store});var def=_objectDp.f;var TAG=_wks("toStringTag");var _setToStringTag=function(it,tag,stat){if(it&&!_has(it=stat?it:it.prototype,TAG))def(it,TAG,{configurable:true,value:tag})};var _typedBuffer=createCommonjsModule(function(module,exports){"use strict";var gOPN=_objectGopn.f;var dP=_objectDp.f;var ARRAY_BUFFER="ArrayBuffer";var DATA_VIEW="DataView";var PROTOTYPE="prototype";var WRONG_LENGTH="Wrong length!";var WRONG_INDEX="Wrong index!";var $ArrayBuffer=_global[ARRAY_BUFFER];var $DataView=_global[DATA_VIEW];var Math=_global.Math;var RangeError=_global.RangeError;var Infinity=_global.Infinity;var BaseBuffer=$ArrayBuffer;var abs=Math.abs;var pow=Math.pow;var floor=Math.floor;var log=Math.log;var LN2=Math.LN2;var BUFFER="buffer";var BYTE_LENGTH="byteLength";var BYTE_OFFSET="byteOffset";var $BUFFER=_descriptors?"_b":BUFFER;var $LENGTH=_descriptors?"_l":BYTE_LENGTH;var $OFFSET=_descriptors?"_o":BYTE_OFFSET;function packIEEE754(value,mLen,nBytes){var buffer=new Array(nBytes);var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?pow(2,-24)-pow(2,-77):0;var i=0;var s=value<0||value===0&&1/value<0?1:0;var e,m,c;value=abs(value);if(value!=value||value===Infinity){m=value!=value?1:0;e=eMax}else{e=floor(log(value)/LN2);if(value*(c=pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*pow(2,mLen);e=e+eBias}else{m=value*pow(2,eBias-1)*pow(2,mLen);e=0}}for(;mLen>=8;buffer[i++]=m&255,m/=256,mLen-=8);e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[i++]=e&255,e/=256,eLen-=8);buffer[--i]|=s*128;return buffer}function unpackIEEE754(buffer,mLen,nBytes){var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=eLen-7;var i=nBytes-1;var s=buffer[i--];var e=s&127;var m;s>>=7;for(;nBits>0;e=e*256+buffer[i],i--,nBits-=8);m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[i],i--,nBits-=8);if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:s?-Infinity:Infinity}else{m=m+pow(2,mLen);e=e-eBias}return(s?-1:1)*m*pow(2,e-mLen)}function unpackI32(bytes){return bytes[3]<<24|bytes[2]<<16|bytes[1]<<8|bytes[0]}function packI8(it){return[it&255]}function packI16(it){return[it&255,it>>8&255]}function packI32(it){return[it&255,it>>8&255,it>>16&255,it>>24&255]}function packF64(it){return packIEEE754(it,52,8)}function packF32(it){return packIEEE754(it,23,4)}function addGetter(C,key,internal){dP(C[PROTOTYPE],key,{get:function(){return this[internal]}})}function get(view,bytes,index,isLittleEndian){var numIndex=+index;var intIndex=_toIndex(numIndex);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b;var start=intIndex+view[$OFFSET];var pack=store.slice(start,start+bytes);return isLittleEndian?pack:pack.reverse()}function set(view,bytes,index,conversion,value,isLittleEndian){var numIndex=+index;var intIndex=_toIndex(numIndex);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b;var start=intIndex+view[$OFFSET];var pack=conversion(+value);for(var i=0;i<bytes;i++)store[start+i]=pack[isLittleEndian?i:bytes-i-1]}if(!_typed.ABV){$ArrayBuffer=function ArrayBuffer(length){_anInstance(this,$ArrayBuffer,ARRAY_BUFFER);var byteLength=_toIndex(length);this._b=_arrayFill.call(new Array(byteLength),0);this[$LENGTH]=byteLength};$DataView=function DataView(buffer,byteOffset,byteLength){_anInstance(this,$DataView,DATA_VIEW);_anInstance(buffer,$ArrayBuffer,DATA_VIEW);var bufferLength=buffer[$LENGTH];var offset=_toInteger(byteOffset);if(offset<0||offset>bufferLength)throw RangeError("Wrong offset!");byteLength=byteLength===undefined?bufferLength-offset:_toLength(byteLength);if(offset+byteLength>bufferLength)throw RangeError(WRONG_LENGTH);this[$BUFFER]=buffer;this[$OFFSET]=offset;this[$LENGTH]=byteLength};if(_descriptors){addGetter($ArrayBuffer,BYTE_LENGTH,"_l");addGetter($DataView,BUFFER,"_b");addGetter($DataView,BYTE_LENGTH,"_l");addGetter($DataView,BYTE_OFFSET,"_o")}_redefineAll($DataView[PROTOTYPE],{getInt8:function getInt8(byteOffset){return get(this,1,byteOffset)[0]<<24>>24},getUint8:function getUint8(byteOffset){return get(this,1,byteOffset)[0]},getInt16:function getInt16(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return(bytes[1]<<8|bytes[0])<<16>>16},getUint16:function getUint16(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return bytes[1]<<8|bytes[0]},getInt32:function getInt32(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))},getUint32:function getUint32(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))>>>0},getFloat32:function getFloat32(byteOffset){return unpackIEEE754(get(this,4,byteOffset,arguments[1]),23,4)},getFloat64:function getFloat64(byteOffset){return unpackIEEE754(get(this,8,byteOffset,arguments[1]),52,8)},setInt8:function setInt8(byteOffset,value){set(this,1,byteOffset,packI8,value)},setUint8:function setUint8(byteOffset,value){set(this,1,byteOffset,packI8,value)},setInt16:function setInt16(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setUint16:function setUint16(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setInt32:function setInt32(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setUint32:function setUint32(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setFloat32:function setFloat32(byteOffset,value){set(this,4,byteOffset,packF32,value,arguments[2])},setFloat64:function setFloat64(byteOffset,value){set(this,8,byteOffset,packF64,value,arguments[2])}})}else{if(!_fails(function(){$ArrayBuffer(1)})||!_fails(function(){new $ArrayBuffer(-1)})||_fails(function(){new $ArrayBuffer;new $ArrayBuffer(1.5);new $ArrayBuffer(NaN);return $ArrayBuffer.name!=ARRAY_BUFFER})){$ArrayBuffer=function ArrayBuffer(length){_anInstance(this,$ArrayBuffer);return new BaseBuffer(_toIndex(length))};var ArrayBufferProto=$ArrayBuffer[PROTOTYPE]=BaseBuffer[PROTOTYPE];for(var keys=gOPN(BaseBuffer),j=0,key;keys.length>j;){if(!((key=keys[j++])in $ArrayBuffer))_hide($ArrayBuffer,key,BaseBuffer[key])}if(!_library)ArrayBufferProto.constructor=$ArrayBuffer}var view=new $DataView(new $ArrayBuffer(2));var $setInt8=$DataView[PROTOTYPE].setInt8;view.setInt8(0,2147483648);view.setInt8(1,2147483649);if(view.getInt8(0)||!view.getInt8(1))_redefineAll($DataView[PROTOTYPE],{setInt8:function setInt8(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)},setUint8:function setUint8(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)}},true)}_setToStringTag($ArrayBuffer,ARRAY_BUFFER);_setToStringTag($DataView,DATA_VIEW);_hide($DataView[PROTOTYPE],_typed.VIEW,true);exports[ARRAY_BUFFER]=$ArrayBuffer;exports[DATA_VIEW]=$DataView});var SPECIES=_wks("species");var _speciesConstructor=function(O,D){var C=_anObject(O).constructor;var S;return C===undefined||(S=_anObject(C)[SPECIES])==undefined?D:_aFunction(S)};"use strict";var SPECIES$1=_wks("species");var _setSpecies=function(KEY){var C=_global[KEY];if(_descriptors&&C&&!C[SPECIES$1])_objectDp.f(C,SPECIES$1,{configurable:true,get:function(){return this}})};"use strict";var ArrayBuffer=_global.ArrayBuffer;var $ArrayBuffer=_typedBuffer.ArrayBuffer;var $DataView=_typedBuffer.DataView;var $isView=_typed.ABV&&ArrayBuffer.isView;var $slice=$ArrayBuffer.prototype.slice;var VIEW=_typed.VIEW;var ARRAY_BUFFER="ArrayBuffer";_export(_export.G+_export.W+_export.F*(ArrayBuffer!==$ArrayBuffer),{ArrayBuffer:$ArrayBuffer});_export(_export.S+_export.F*!_typed.CONSTR,ARRAY_BUFFER,{isView:function isView(it){return $isView&&$isView(it)||_isObject(it)&&VIEW in it}});_export(_export.P+_export.U+_export.F*_fails(function(){return!new $ArrayBuffer(2).slice(1,undefined).byteLength}),ARRAY_BUFFER,{slice:function slice(start,end){if($slice!==undefined&&end===undefined)return $slice.call(_anObject(this),start);var len=_anObject(this).byteLength;var first=_toAbsoluteIndex(start,len);var final=_toAbsoluteIndex(end===undefined?len:end,len);var result=new(_speciesConstructor(this,$ArrayBuffer))(_toLength(final-first));var viewS=new $DataView(this);var viewT=new $DataView(result);var index=0;while(first<final){viewT.setUint8(index++,viewS.getUint8(first++))}return result}});_setSpecies(ARRAY_BUFFER);var TAG$1=_wks("toStringTag");var ARG=_cof(function(){return arguments}())=="Arguments";var tryGet=function(it,key){try{return it[key]}catch(e){}};var _classof=function(it){var O,T,B;return it===undefined?"Undefined":it===null?"Null":typeof(T=tryGet(O=Object(it),TAG$1))=="string"?T:ARG?_cof(O):(B=_cof(O))=="Object"&&typeof O.callee=="function"?"Arguments":B};var _iterators={};var ITERATOR=_wks("iterator");var ArrayProto=Array.prototype;var _isArrayIter=function(it){return it!==undefined&&(_iterators.Array===it||ArrayProto[ITERATOR]===it)};var _objectKeys=Object.keys||function keys(O){return _objectKeysInternal(O,_enumBugKeys)};var _objectDps=_descriptors?Object.defineProperties:function defineProperties(O,Properties){_anObject(O);var keys=_objectKeys(Properties);var length=keys.length;var i=0;var P;while(length>i)_objectDp.f(O,P=keys[i++],Properties[P]);return O};var document$2=_global.document;var _html=document$2&&document$2.documentElement;var IE_PROTO$1=_sharedKey("IE_PROTO");var Empty=function(){};var PROTOTYPE$1="prototype";var createDict=function(){var iframe=_domCreate("iframe");var i=_enumBugKeys.length;var lt="<";var gt=">";var iframeDocument;iframe.style.display="none";_html.appendChild(iframe);iframe.src="javascript:";iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write(lt+"script"+gt+"document.F=Object"+lt+"/script"+gt);iframeDocument.close();createDict=iframeDocument.F;while(i--)delete createDict[PROTOTYPE$1][_enumBugKeys[i]];return createDict()};var _objectCreate=Object.create||function create(O,Properties){var result;if(O!==null){Empty[PROTOTYPE$1]=_anObject(O);result=new Empty;Empty[PROTOTYPE$1]=null;result[IE_PROTO$1]=O}else result=createDict();return Properties===undefined?result:_objectDps(result,Properties)};var IE_PROTO$2=_sharedKey("IE_PROTO");var ObjectProto=Object.prototype;var _objectGpo=Object.getPrototypeOf||function(O){O=_toObject(O);if(_has(O,IE_PROTO$2))return O[IE_PROTO$2];if(typeof O.constructor=="function"&&O instanceof O.constructor){return O.constructor.prototype}return O instanceof Object?ObjectProto:null};var ITERATOR$1=_wks("iterator");var core_getIteratorMethod=_core.getIteratorMethod=function(it){if(it!=undefined)return it[ITERATOR$1]||it["@@iterator"]||_iterators[_classof(it)]};var _isArray=Array.isArray||function isArray(arg){return _cof(arg)=="Array"};var SPECIES$2=_wks("species");var _arraySpeciesConstructor=function(original){var C;if(_isArray(original)){C=original.constructor;if(typeof C=="function"&&(C===Array||_isArray(C.prototype)))C=undefined;if(_isObject(C)){C=C[SPECIES$2];if(C===null)C=undefined}}return C===undefined?Array:C};var _arraySpeciesCreate=function(original,length){return new(_arraySpeciesConstructor(original))(length)};var _arrayMethods=function(TYPE,$create){var IS_MAP=TYPE==1;var IS_FILTER=TYPE==2;var IS_SOME=TYPE==3;var IS_EVERY=TYPE==4;var IS_FIND_INDEX=TYPE==6;var NO_HOLES=TYPE==5||IS_FIND_INDEX;var create=$create||_arraySpeciesCreate;return function($this,callbackfn,that){var O=_toObject($this);var self=_iobject(O);var f=_ctx(callbackfn,that,3);var length=_toLength(self.length);var index=0;var result=IS_MAP?create($this,length):IS_FILTER?create($this,0):undefined;var val,res;for(;length>index;index++)if(NO_HOLES||index in self){val=self[index];res=f(val,index,O);if(TYPE){if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return true;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return false}}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}};var UNSCOPABLES=_wks("unscopables");var ArrayProto$1=Array.prototype;if(ArrayProto$1[UNSCOPABLES]==undefined)_hide(ArrayProto$1,UNSCOPABLES,{});var _addToUnscopables=function(key){ArrayProto$1[UNSCOPABLES][key]=true};var _iterStep=function(done,value){return{value:value,done:!!done}};"use strict";var IteratorPrototype={};_hide(IteratorPrototype,_wks("iterator"),function(){return this});var _iterCreate=function(Constructor,NAME,next){Constructor.prototype=_objectCreate(IteratorPrototype,{next:_propertyDesc(1,next)});_setToStringTag(Constructor,NAME+" Iterator")};"use strict";var ITERATOR$2=_wks("iterator");var BUGGY=!([].keys&&"next"in[].keys());var FF_ITERATOR="@@iterator";var KEYS="keys";var VALUES="values";var returnThis=function(){return this};var _iterDefine=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){_iterCreate(Constructor,NAME,next);var getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function keys(){return new Constructor(this,kind)};case VALUES:return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}};var TAG=NAME+" Iterator";var DEF_VALUES=DEFAULT==VALUES;var VALUES_BUG=false;var proto=Base.prototype;var $native=proto[ITERATOR$2]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT];var $default=!BUGGY&&$native||getMethod(DEFAULT);var $entries=DEFAULT?!DEF_VALUES?$default:getMethod("entries"):undefined;var $anyNative=NAME=="Array"?proto.entries||$native:$native;var methods,key,IteratorPrototype;if($anyNative){IteratorPrototype=_objectGpo($anyNative.call(new Base));if(IteratorPrototype!==Object.prototype&&IteratorPrototype.next){_setToStringTag(IteratorPrototype,TAG,true);if(!_library&&!_has(IteratorPrototype,ITERATOR$2))_hide(IteratorPrototype,ITERATOR$2,returnThis)}}if(DEF_VALUES&&$native&&$native.name!==VALUES){VALUES_BUG=true;$default=function values(){return $native.call(this)}}if((!_library||FORCED)&&(BUGGY||VALUES_BUG||!proto[ITERATOR$2])){_hide(proto,ITERATOR$2,$default)}_iterators[NAME]=$default;_iterators[TAG]=returnThis;if(DEFAULT){methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries};if(FORCED)for(key in methods){if(!(key in proto))_redefine(proto,key,methods[key])}else _export(_export.P+_export.F*(BUGGY||VALUES_BUG),NAME,methods)}return methods};"use strict";var es6_array_iterator=_iterDefine(Array,"Array",function(iterated,kind){this._t=_toIobject(iterated);this._i=0;this._k=kind},function(){var O=this._t;var kind=this._k;var index=this._i++;if(!O||index>=O.length){this._t=undefined;return _iterStep(1)}if(kind=="keys")return _iterStep(0,index);if(kind=="values")return _iterStep(0,O[index]);return _iterStep(0,[index,O[index]])},"values");_iterators.Arguments=_iterators.Array;_addToUnscopables("keys");_addToUnscopables("values");_addToUnscopables("entries");var ITERATOR$3=_wks("iterator");var SAFE_CLOSING=false;try{var riter=[7][ITERATOR$3]();riter["return"]=function(){SAFE_CLOSING=true}}catch(e){}var _iterDetect=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return false;var safe=false;try{var arr=[7];var iter=arr[ITERATOR$3]();iter.next=function(){return{done:safe=true}};arr[ITERATOR$3]=function(){return iter};exec(arr)}catch(e){}return safe};"use strict";var _arrayCopyWithin=[].copyWithin||function copyWithin(target,start){var O=_toObject(this);var len=_toLength(O.length);var to=_toAbsoluteIndex(target,len);var from=_toAbsoluteIndex(start,len);var end=arguments.length>2?arguments[2]:undefined;var count=Math.min((end===undefined?len:_toAbsoluteIndex(end,len))-from,len-to);var inc=1;if(from<to&&to<from+count){inc=-1;from+=count-1;to+=count-1}while(count-- >0){if(from in O)O[to]=O[from];else delete O[to];to+=inc;from+=inc}return O};var f$3={}.propertyIsEnumerable;var _objectPie={f:f$3};var gOPD=Object.getOwnPropertyDescriptor;var f$2=_descriptors?gOPD:function getOwnPropertyDescriptor(O,P){O=_toIobject(O);P=_toPrimitive(P,true);if(_ie8DomDefine)try{return gOPD(O,P)}catch(e){}if(_has(O,P))return _propertyDesc(!_objectPie.f.call(O,P),O[P])};var _objectGopd={f:f$2};var _typedArray=createCommonjsModule(function(module){"use strict";if(_descriptors){var LIBRARY=_library;var global=_global;var fails=_fails;var $export=_export;var $typed=_typed;var $buffer=_typedBuffer;var ctx=_ctx;var anInstance=_anInstance;var propertyDesc=_propertyDesc;var hide=_hide;var redefineAll=_redefineAll;var toInteger=_toInteger;var toLength=_toLength;var toIndex=_toIndex;var toAbsoluteIndex=_toAbsoluteIndex;var toPrimitive=_toPrimitive;var has=_has;var classof$$1=_classof;var isObject=_isObject;var toObject=_toObject;var isArrayIter$$1=_isArrayIter;var create=_objectCreate;var getPrototypeOf=_objectGpo;var gOPN=_objectGopn.f;var getIterFn$$1=core_getIteratorMethod;var uid=_uid;var wks=_wks;var createArrayMethod=_arrayMethods;var createArrayIncludes=_arrayIncludes;var speciesConstructor=_speciesConstructor;var ArrayIterators=es6_array_iterator;var Iterators$$1=_iterators;var $iterDetect=_iterDetect;var setSpecies=_setSpecies;var arrayFill=_arrayFill;var arrayCopyWithin=_arrayCopyWithin;var $DP=_objectDp;var $GOPD=_objectGopd;var dP=$DP.f;var gOPD=$GOPD.f;var RangeError=global.RangeError;var TypeError=global.TypeError;var Uint8Array=global.Uint8Array;var ARRAY_BUFFER="ArrayBuffer";var SHARED_BUFFER="Shared"+ARRAY_BUFFER;var BYTES_PER_ELEMENT="BYTES_PER_ELEMENT";var PROTOTYPE="prototype";var ArrayProto=Array[PROTOTYPE];var $ArrayBuffer=$buffer.ArrayBuffer;var $DataView=$buffer.DataView;var arrayForEach=createArrayMethod(0);var arrayFilter=createArrayMethod(2);var arraySome=createArrayMethod(3);var arrayEvery=createArrayMethod(4);var arrayFind=createArrayMethod(5);var arrayFindIndex=createArrayMethod(6);var arrayIncludes=createArrayIncludes(true);var arrayIndexOf=createArrayIncludes(false);var arrayValues=ArrayIterators.values;var arrayKeys=ArrayIterators.keys;var arrayEntries=ArrayIterators.entries;var arrayLastIndexOf=ArrayProto.lastIndexOf;var arrayReduce=ArrayProto.reduce;var arrayReduceRight=ArrayProto.reduceRight;var arrayJoin=ArrayProto.join;var arraySort=ArrayProto.sort;var arraySlice=ArrayProto.slice;var arrayToString=ArrayProto.toString;var arrayToLocaleString=ArrayProto.toLocaleString;var ITERATOR=wks("iterator");var TAG=wks("toStringTag");var TYPED_CONSTRUCTOR=uid("typed_constructor");var DEF_CONSTRUCTOR=uid("def_constructor");var ALL_CONSTRUCTORS=$typed.CONSTR;var TYPED_ARRAY=$typed.TYPED;var VIEW=$typed.VIEW;var WRONG_LENGTH="Wrong length!";var $map=createArrayMethod(1,function(O,length){return allocate(speciesConstructor(O,O[DEF_CONSTRUCTOR]),length)});var LITTLE_ENDIAN=fails(function(){return new Uint8Array(new Uint16Array([1]).buffer)[0]===1});var FORCED_SET=!!Uint8Array&&!!Uint8Array[PROTOTYPE].set&&fails(function(){new Uint8Array(1).set({})});var toOffset=function(it,BYTES){var offset=toInteger(it);if(offset<0||offset%BYTES)throw RangeError("Wrong offset!");return offset};var validate=function(it){if(isObject(it)&&TYPED_ARRAY in it)return it;throw TypeError(it+" is not a typed array!")};var allocate=function(C,length){if(!(isObject(C)&&TYPED_CONSTRUCTOR in C)){throw TypeError("It is not a typed array constructor!")}return new C(length)};var speciesFromList=function(O,list){return fromList(speciesConstructor(O,O[DEF_CONSTRUCTOR]),list)};var fromList=function(C,list){var index=0;var length=list.length;var result=allocate(C,length);while(length>index)result[index]=list[index++];return result};var addGetter=function(it,key,internal){dP(it,key,{get:function(){return this._d[internal]}})};var $from=function from(source){var O=toObject(source);var aLen=arguments.length;var mapfn=aLen>1?arguments[1]:undefined;var mapping=mapfn!==undefined;var iterFn=getIterFn$$1(O);var i,length,values,result,step,iterator;if(iterFn!=undefined&&!isArrayIter$$1(iterFn)){for(iterator=iterFn.call(O),values=[],i=0;!(step=iterator.next()).done;i++){values.push(step.value)}O=values}if(mapping&&aLen>2)mapfn=ctx(mapfn,arguments[2],2);for(i=0,length=toLength(O.length),result=allocate(this,length);length>i;i++){result[i]=mapping?mapfn(O[i],i):O[i]}return result};var $of=function of(){var index=0;var length=arguments.length;var result=allocate(this,length);while(length>index)result[index]=arguments[index++];return result};var TO_LOCALE_BUG=!!Uint8Array&&fails(function(){arrayToLocaleString.call(new Uint8Array(1))});var $toLocaleString=function toLocaleString(){return arrayToLocaleString.apply(TO_LOCALE_BUG?arraySlice.call(validate(this)):validate(this),arguments)};var proto={copyWithin:function copyWithin(target,start){return arrayCopyWithin.call(validate(this),target,start,arguments.length>2?arguments[2]:undefined)},every:function every(callbackfn){return arrayEvery(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},fill:function fill(value){return arrayFill.apply(validate(this),arguments)},filter:function filter(callbackfn){return speciesFromList(this,arrayFilter(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined))},find:function find(predicate){return arrayFind(validate(this),predicate,arguments.length>1?arguments[1]:undefined)},findIndex:function findIndex(predicate){return arrayFindIndex(validate(this),predicate,arguments.length>1?arguments[1]:undefined)},forEach:function forEach(callbackfn){arrayForEach(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},indexOf:function indexOf(searchElement){return arrayIndexOf(validate(this),searchElement,arguments.length>1?arguments[1]:undefined)},includes:function includes(searchElement){return arrayIncludes(validate(this),searchElement,arguments.length>1?arguments[1]:undefined)},join:function join(separator){return arrayJoin.apply(validate(this),arguments)},lastIndexOf:function lastIndexOf(searchElement){return arrayLastIndexOf.apply(validate(this),arguments)},map:function map(mapfn){return $map(validate(this),mapfn,arguments.length>1?arguments[1]:undefined)},reduce:function reduce(callbackfn){return arrayReduce.apply(validate(this),arguments)},reduceRight:function reduceRight(callbackfn){return arrayReduceRight.apply(validate(this),arguments)},reverse:function reverse(){var that=this;var length=validate(that).length;var middle=Math.floor(length/2);var index=0;var value;while(index<middle){value=that[index];that[index++]=that[--length];that[length]=value}return that},some:function some(callbackfn){return arraySome(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},sort:function sort(comparefn){return arraySort.call(validate(this),comparefn)},subarray:function subarray(begin,end){var O=validate(this);var length=O.length;var $begin=toAbsoluteIndex(begin,length);return new(speciesConstructor(O,O[DEF_CONSTRUCTOR]))(O.buffer,O.byteOffset+$begin*O.BYTES_PER_ELEMENT,toLength((end===undefined?length:toAbsoluteIndex(end,length))-$begin))}};var $slice=function slice(start,end){return speciesFromList(this,arraySlice.call(validate(this),start,end))};var $set=function set(arrayLike){validate(this);var offset=toOffset(arguments[1],1);var length=this.length;var src=toObject(arrayLike);var len=toLength(src.length);var index=0;if(len+offset>length)throw RangeError(WRONG_LENGTH);while(index<len)this[offset+index]=src[index++]};var $iterators$$1={entries:function entries(){return arrayEntries.call(validate(this))},keys:function keys(){return arrayKeys.call(validate(this))},values:function values(){return arrayValues.call(validate(this))}};var isTAIndex=function(target,key){return isObject(target)&&target[TYPED_ARRAY]&&typeof key!="symbol"&&key in target&&String(+key)==String(key)};var $getDesc=function getOwnPropertyDescriptor(target,key){return isTAIndex(target,key=toPrimitive(key,true))?propertyDesc(2,target[key]):gOPD(target,key)};var $setDesc=function defineProperty(target,key,desc){if(isTAIndex(target,key=toPrimitive(key,true))&&isObject(desc)&&has(desc,"value")&&!has(desc,"get")&&!has(desc,"set")&&!desc.configurable&&(!has(desc,"writable")||desc.writable)&&(!has(desc,"enumerable")||desc.enumerable)){target[key]=desc.value;return target}return dP(target,key,desc)};if(!ALL_CONSTRUCTORS){$GOPD.f=$getDesc;$DP.f=$setDesc}$export($export.S+$export.F*!ALL_CONSTRUCTORS,"Object",{getOwnPropertyDescriptor:$getDesc,defineProperty:$setDesc});if(fails(function(){arrayToString.call({})})){arrayToString=arrayToLocaleString=function toString(){return arrayJoin.call(this)}}var $TypedArrayPrototype$=redefineAll({},proto);redefineAll($TypedArrayPrototype$,$iterators$$1);hide($TypedArrayPrototype$,ITERATOR,$iterators$$1.values);redefineAll($TypedArrayPrototype$,{slice:$slice,set:$set,constructor:function(){},toString:arrayToString,toLocaleString:$toLocaleString});addGetter($TypedArrayPrototype$,"buffer","b");addGetter($TypedArrayPrototype$,"byteOffset","o");addGetter($TypedArrayPrototype$,"byteLength","l");addGetter($TypedArrayPrototype$,"length","e");dP($TypedArrayPrototype$,TAG,{get:function(){return this[TYPED_ARRAY]}});module.exports=function(KEY,BYTES,wrapper,CLAMPED){CLAMPED=!!CLAMPED;var NAME=KEY+(CLAMPED?"Clamped":"")+"Array";var GETTER="get"+KEY;var SETTER="set"+KEY;var TypedArray=global[NAME];var Base=TypedArray||{};var TAC=TypedArray&&getPrototypeOf(TypedArray);var FORCED=!TypedArray||!$typed.ABV;var O={};var TypedArrayPrototype=TypedArray&&TypedArray[PROTOTYPE];var getter=function(that,index){var data=that._d;return data.v[GETTER](index*BYTES+data.o,LITTLE_ENDIAN)};var setter=function(that,index,value){var data=that._d;if(CLAMPED)value=(value=Math.round(value))<0?0:value>255?255:value&255;data.v[SETTER](index*BYTES+data.o,value,LITTLE_ENDIAN)};var addElement=function(that,index){dP(that,index,{get:function(){return getter(this,index)},set:function(value){return setter(this,index,value)},enumerable:true})};if(FORCED){TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME,"_d");var index=0;var offset=0;var buffer,byteLength,length,klass;if(!isObject(data)){length=toIndex(data);byteLength=length*BYTES;buffer=new $ArrayBuffer(byteLength)}else if(data instanceof $ArrayBuffer||(klass=classof$$1(data))==ARRAY_BUFFER||klass==SHARED_BUFFER){buffer=data;offset=toOffset($offset,BYTES);var $len=data.byteLength;if($length===undefined){if($len%BYTES)throw RangeError(WRONG_LENGTH);byteLength=$len-offset;if(byteLength<0)throw RangeError(WRONG_LENGTH)}else{byteLength=toLength($length)*BYTES;if(byteLength+offset>$len)throw RangeError(WRONG_LENGTH)}length=byteLength/BYTES}else if(TYPED_ARRAY in data){return fromList(TypedArray,data)}else{return $from.call(TypedArray,data)}hide(that,"_d",{b:buffer,o:offset,l:byteLength,e:length,v:new $DataView(buffer)});while(index<length)addElement(that,index++)});TypedArrayPrototype=TypedArray[PROTOTYPE]=create($TypedArrayPrototype$);hide(TypedArrayPrototype,"constructor",TypedArray)}else if(!fails(function(){TypedArray(1)})||!fails(function(){new TypedArray(-1)})||!$iterDetect(function(iter){new TypedArray;new TypedArray(null);new TypedArray(1.5);new TypedArray(iter)},true)){TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME);var klass;if(!isObject(data))return new Base(toIndex(data));if(data instanceof $ArrayBuffer||(klass=classof$$1(data))==ARRAY_BUFFER||klass==SHARED_BUFFER){return $length!==undefined?new Base(data,toOffset($offset,BYTES),$length):$offset!==undefined?new Base(data,toOffset($offset,BYTES)):new Base(data)}if(TYPED_ARRAY in data)return fromList(TypedArray,data);return $from.call(TypedArray,data)});arrayForEach(TAC!==Function.prototype?gOPN(Base).concat(gOPN(TAC)):gOPN(Base),function(key){if(!(key in TypedArray))hide(TypedArray,key,Base[key])});TypedArray[PROTOTYPE]=TypedArrayPrototype;if(!LIBRARY)TypedArrayPrototype.constructor=TypedArray}var $nativeIterator=TypedArrayPrototype[ITERATOR];var CORRECT_ITER_NAME=!!$nativeIterator&&($nativeIterator.name=="values"||$nativeIterator.name==undefined);var $iterator=$iterators$$1.values;hide(TypedArray,TYPED_CONSTRUCTOR,true);hide(TypedArrayPrototype,TYPED_ARRAY,NAME);hide(TypedArrayPrototype,VIEW,true);hide(TypedArrayPrototype,DEF_CONSTRUCTOR,TypedArray);if(CLAMPED?new TypedArray(1)[TAG]!=NAME:!(TAG in TypedArrayPrototype)){dP(TypedArrayPrototype,TAG,{get:function(){return NAME}})}O[NAME]=TypedArray;$export($export.G+$export.W+$export.F*(TypedArray!=Base),O);$export($export.S,NAME,{BYTES_PER_ELEMENT:BYTES});$export($export.S+$export.F*fails(function(){Base.of.call(TypedArray,1)}),NAME,{from:$from,of:$of});if(!(BYTES_PER_ELEMENT in TypedArrayPrototype))hide(TypedArrayPrototype,BYTES_PER_ELEMENT,BYTES);$export($export.P,NAME,proto);setSpecies(NAME);$export($export.P+$export.F*FORCED_SET,NAME,{set:$set});$export($export.P+$export.F*!CORRECT_ITER_NAME,NAME,$iterators$$1);if(!LIBRARY&&TypedArrayPrototype.toString!=arrayToString)TypedArrayPrototype.toString=arrayToString;$export($export.P+$export.F*fails(function(){new TypedArray(1).slice()}),NAME,{slice:$slice});$export($export.P+$export.F*(fails(function(){return[1,2].toLocaleString()!=new TypedArray([1,2]).toLocaleString()})||!fails(function(){TypedArrayPrototype.toLocaleString.call([1,2])})),NAME,{toLocaleString:$toLocaleString});Iterators$$1[NAME]=CORRECT_ITER_NAME?$nativeIterator:$iterator;if(!LIBRARY&&!CORRECT_ITER_NAME)hide(TypedArrayPrototype,ITERATOR,$iterator)}}else module.exports=function(){}});_typedArray("Int8",1,function(init){return function Int8Array(data,byteOffset,length){return init(this,data,byteOffset,length)}});_typedArray("Uint8",1,function(init){return function Uint8Array(data,byteOffset,length){return init(this,data,byteOffset,length)}});_typedArray("Uint8",1,function(init){return function Uint8ClampedArray(data,byteOffset,length){return init(this,data,byteOffset,length)}},true);_typedArray("Int16",2,function(init){return function Int16Array(data,byteOffset,length){return init(this,data,byteOffset,length)}});_typedArray("Uint16",2,function(init){return function Uint16Array(data,byteOffset,length){return init(this,data,byteOffset,length)}});_typedArray("Int32",4,function(init){return function Int32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}});_typedArray("Uint32",4,function(init){return function Uint32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}});_typedArray("Float32",4,function(init){return function Float32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}});_typedArray("Float64",8,function(init){return function Float64Array(data,byteOffset,length){return init(this,data,byteOffset,length)}});var _iterCall=function(iterator,fn,value,entries){try{return entries?fn(_anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator["return"];if(ret!==undefined)_anObject(ret.call(iterator));throw e}};var _forOf=createCommonjsModule(function(module){var BREAK={};var RETURN={};var exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var iterFn=ITERATOR?function(){return iterable}:core_getIteratorMethod(iterable);var f=_ctx(fn,that,entries?2:1);var index=0;var length,step,iterator,result;if(typeof iterFn!="function")throw TypeError(iterable+" is not iterable!");if(_isArrayIter(iterFn))for(length=_toLength(iterable.length);length>index;index++){result=entries?f(_anObject(step=iterable[index])[0],step[1]):f(iterable[index]);if(result===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;){result=_iterCall(iterator,f,step.value,entries);if(result===BREAK||result===RETURN)return result}};exports.BREAK=BREAK;exports.RETURN=RETURN});var _meta=createCommonjsModule(function(module){var META=_uid("meta");var setDesc=_objectDp.f;var id=0;var isExtensible=Object.isExtensible||function(){return true};var FREEZE=!_fails(function(){return isExtensible(Object.preventExtensions({}))});var setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})};var fastKey=function(it,create){if(!_isObject(it))return typeof it=="symbol"?it:(typeof it=="string"?"S":"P")+it;if(!_has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i};var getWeak=function(it,create){if(!_has(it,META)){if(!isExtensible(it))return true;if(!create)return false;setMeta(it)}return it[META].w};var onFreeze=function(it){if(FREEZE&&meta.NEED&&isExtensible(it)&&!_has(it,META))setMeta(it);return it};var meta=module.exports={KEY:META,NEED:false,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}});var _validateCollection=function(it,TYPE){if(!_isObject(it)||it._t!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required!");return it};"use strict";var dP$1=_objectDp.f;var fastKey=_meta.fastKey;var SIZE=_descriptors?"_s":"size";var getEntry=function(that,key){var index=fastKey(key);var entry;if(index!=="F")return that._i[index];for(entry=that._f;entry;entry=entry.n){if(entry.k==key)return entry}};var _collectionStrong={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){_anInstance(that,C,NAME,"_i");that._t=NAME;that._i=_objectCreate(null);that._f=undefined;that._l=undefined;that[SIZE]=0;if(iterable!=undefined)_forOf(iterable,IS_MAP,that[ADDER],that)});_redefineAll(C.prototype,{clear:function clear(){for(var that=_validateCollection(this,NAME),data=that._i,entry=that._f;entry;entry=entry.n){entry.r=true;if(entry.p)entry.p=entry.p.n=undefined;delete data[entry.i]}that._f=that._l=undefined;that[SIZE]=0},delete:function(key){var that=_validateCollection(this,NAME);var entry=getEntry(that,key);if(entry){var next=entry.n;var prev=entry.p;delete that._i[entry.i];entry.r=true;if(prev)prev.n=next;if(next)next.p=prev;if(that._f==entry)that._f=next;if(that._l==entry)that._l=prev;that[SIZE]--}return!!entry},forEach:function forEach(callbackfn){_validateCollection(this,NAME);var f=_ctx(callbackfn,arguments.length>1?arguments[1]:undefined,3);var entry;while(entry=entry?entry.n:this._f){f(entry.v,entry.k,this);while(entry&&entry.r)entry=entry.p}},has:function has(key){return!!getEntry(_validateCollection(this,NAME),key)}});if(_descriptors)dP$1(C.prototype,"size",{get:function(){return _validateCollection(this,NAME)[SIZE]}});return C},def:function(that,key,value){var entry=getEntry(that,key);var prev,index;if(entry){entry.v=value}else{that._l=entry={i:index=fastKey(key,true),k:key,v:value,p:prev=that._l,n:undefined,r:false};if(!that._f)that._f=entry;if(prev)prev.n=entry;that[SIZE]++;if(index!=="F")that._i[index]=entry}return that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){_iterDefine(C,NAME,function(iterated,kind){this._t=_validateCollection(iterated,NAME);this._k=kind;this._l=undefined},function(){var that=this;var kind=that._k;var entry=that._l;while(entry&&entry.r)entry=entry.p;if(!that._t||!(that._l=entry=entry?entry.n:that._t._f)){that._t=undefined;return _iterStep(1)}if(kind=="keys")return _iterStep(0,entry.k);if(kind=="values")return _iterStep(0,entry.v);return _iterStep(0,[entry.k,entry.v])},IS_MAP?"entries":"values",!IS_MAP,true);_setSpecies(NAME)}};var check=function(O,proto){_anObject(O);if(!_isObject(proto)&&proto!==null)throw TypeError(proto+": can't set as prototype!")};var _setProto={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{set=_ctx(Function.call,_objectGopd.f(Object.prototype,"__proto__").set,2);set(test,[]);buggy=!(test instanceof Array)}catch(e){buggy=true}return function setPrototypeOf(O,proto){check(O,proto);if(buggy)O.__proto__=proto;else set(O,proto);return O}}({},false):undefined),check:check};var setPrototypeOf=_setProto.set;var _inheritIfRequired=function(that,target,C){var S=target.constructor;var P;if(S!==C&&typeof S=="function"&&(P=S.prototype)!==C.prototype&&_isObject(P)&&setPrototypeOf){setPrototypeOf(that,P)}return that};"use strict";var _collection=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=_global[NAME];var C=Base;var ADDER=IS_MAP?"set":"add";var proto=C&&C.prototype;var O={};var fixMethod=function(KEY){var fn=proto[KEY];_redefine(proto,KEY,KEY=="delete"?function(a){return IS_WEAK&&!_isObject(a)?false:fn.call(this,a===0?0:a)}:KEY=="has"?function has(a){return IS_WEAK&&!_isObject(a)?false:fn.call(this,a===0?0:a)}:KEY=="get"?function get(a){return IS_WEAK&&!_isObject(a)?undefined:fn.call(this,a===0?0:a)}:KEY=="add"?function add(a){fn.call(this,a===0?0:a);return this}:function set(a,b){fn.call(this,a===0?0:a,b);return this})};if(typeof C!="function"||!(IS_WEAK||proto.forEach&&!_fails(function(){(new C).entries().next()}))){C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER);_redefineAll(C.prototype,methods);_meta.NEED=true}else{var instance=new C;var HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance;var THROWS_ON_PRIMITIVES=_fails(function(){instance.has(1)});var ACCEPT_ITERABLES=_iterDetect(function(iter){new C(iter)});var BUGGY_ZERO=!IS_WEAK&&_fails(function(){var $instance=new C;var index=5;while(index--)$instance[ADDER](index,index);return!$instance.has(-0)});if(!ACCEPT_ITERABLES){C=wrapper(function(target,iterable){_anInstance(target,C,NAME);var that=_inheritIfRequired(new Base,target,C);if(iterable!=undefined)_forOf(iterable,IS_MAP,that[ADDER],that);return that});C.prototype=proto;proto.constructor=C}if(THROWS_ON_PRIMITIVES||BUGGY_ZERO){fixMethod("delete");fixMethod("has");IS_MAP&&fixMethod("get")}if(BUGGY_ZERO||HASNT_CHAINING)fixMethod(ADDER);if(IS_WEAK&&proto.clear)delete proto.clear}_setToStringTag(C,NAME);O[NAME]=C;_export(_export.G+_export.W+_export.F*(C!=Base),O);if(!IS_WEAK)common.setStrong(C,NAME,IS_MAP);return C};"use strict";var MAP="Map";var es6_map=_collection(MAP,function(get){return function Map(){return get(this,arguments.length>0?arguments[0]:undefined)}},{get:function get(key){var entry=_collectionStrong.getEntry(_validateCollection(this,MAP),key);return entry&&entry.v},set:function set(key,value){return _collectionStrong.def(_validateCollection(this,MAP),key===0?0:key,value)}},_collectionStrong,true);"use strict";var SET="Set";var es6_set=_collection(SET,function(get){return function Set(){return get(this,arguments.length>0?arguments[0]:undefined)}},{add:function add(value){return _collectionStrong.def(_validateCollection(this,SET),value=value===0?0:value,value)}},_collectionStrong);var f$4=Object.getOwnPropertySymbols;var _objectGops={f:f$4};"use strict";var $assign=Object.assign;var _objectAssign=!$assign||_fails(function(){var A={};var B={};var S=Symbol();var K="abcdefghijklmnopqrst";A[S]=7;K.split("").forEach(function(k){B[k]=k});return $assign({},A)[S]!=7||Object.keys($assign({},B)).join("")!=K})?function assign(target,source){var T=_toObject(target);var aLen=arguments.length;var index=1;var getSymbols=_objectGops.f;var isEnum=_objectPie.f;while(aLen>index){var S=_iobject(arguments[index++]);var keys=getSymbols?_objectKeys(S).concat(getSymbols(S)):_objectKeys(S);var length=keys.length;var j=0;var key;while(length>j)if(isEnum.call(S,key=keys[j++]))T[key]=S[key]}return T}:$assign;"use strict";var getWeak=_meta.getWeak;var arrayFind=_arrayMethods(5);var arrayFindIndex=_arrayMethods(6);var id$1=0;var uncaughtFrozenStore=function(that){return that._l||(that._l=new UncaughtFrozenStore)};var UncaughtFrozenStore=function(){this.a=[]};var findUncaughtFrozen=function(store,key){return arrayFind(store.a,function(it){return it[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);if(entry)entry[1]=value;else this.a.push([key,value])},delete:function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key});if(~index)this.a.splice(index,1);return!!~index}};var _collectionWeak={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){_anInstance(that,C,NAME,"_i");that._t=NAME;that._i=id$1++;that._l=undefined;if(iterable!=undefined)_forOf(iterable,IS_MAP,that[ADDER],that)});_redefineAll(C.prototype,{delete:function(key){if(!_isObject(key))return false;var data=getWeak(key);if(data===true)return uncaughtFrozenStore(_validateCollection(this,NAME))["delete"](key);return data&&_has(data,this._i)&&delete data[this._i]},has:function has(key){if(!_isObject(key))return false;var data=getWeak(key);if(data===true)return uncaughtFrozenStore(_validateCollection(this,NAME)).has(key);return data&&_has(data,this._i)}});return C},def:function(that,key,value){var data=getWeak(_anObject(key),true);if(data===true)uncaughtFrozenStore(that).set(key,value);else data[that._i]=value;return that},ufstore:uncaughtFrozenStore};var es6_weakMap=createCommonjsModule(function(module){"use strict";var each=_arrayMethods(0);var WEAK_MAP="WeakMap";var getWeak=_meta.getWeak;var isExtensible=Object.isExtensible;var uncaughtFrozenStore=_collectionWeak.ufstore;var tmp={};var InternalMap;var wrapper=function(get){return function WeakMap(){return get(this,arguments.length>0?arguments[0]:undefined)}};var methods={get:function get(key){if(_isObject(key)){var data=getWeak(key);if(data===true)return uncaughtFrozenStore(_validateCollection(this,WEAK_MAP)).get(key);return data?data[this._i]:undefined}},set:function set(key,value){return _collectionWeak.def(_validateCollection(this,WEAK_MAP),key,value)}};var $WeakMap=module.exports=_collection(WEAK_MAP,wrapper,methods,_collectionWeak,true,true);if(_fails(function(){return(new $WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)!=7})){InternalMap=_collectionWeak.getConstructor(wrapper,WEAK_MAP);_objectAssign(InternalMap.prototype,methods);_meta.NEED=true;each(["delete","has","get","set"],function(key){var proto=$WeakMap.prototype;var method=proto[key];_redefine(proto,key,function(a,b){if(_isObject(a)&&!isExtensible(a)){if(!this._f)this._f=new InternalMap;var result=this._f[key](a,b);return key=="set"?this:result}return method.call(this,a,b)})})}});"use strict";var WEAK_SET="WeakSet";_collection(WEAK_SET,function(get){return function WeakSet(){return get(this,arguments.length>0?arguments[0]:undefined)}},{add:function add(value){return _collectionWeak.def(_validateCollection(this,WEAK_SET),value,true)}},_collectionWeak,false,true);var rApply=(_global.Reflect||{}).apply;var fApply=Function.apply;_export(_export.S+_export.F*!_fails(function(){rApply(function(){})}),"Reflect",{apply:function apply(target,thisArgument,argumentsList){var T=_aFunction(target);var L=_anObject(argumentsList);return rApply?rApply(T,thisArgument,L):fApply.call(T,thisArgument,L)}});var _invoke=function(fn,args,that){var un=that===undefined;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)};"use strict";var arraySlice=[].slice;var factories={};var construct=function(F,len,args){if(!(len in factories)){for(var n=[],i=0;i<len;i++)n[i]="a["+i+"]";factories[len]=Function("F,a","return new F("+n.join(",")+")")}return factories[len](F,args)};var _bind=Function.bind||function bind(that){var fn=_aFunction(this);var partArgs=arraySlice.call(arguments,1);var bound=function(){var args=partArgs.concat(arraySlice.call(arguments));return this instanceof bound?construct(fn,args.length,args):_invoke(fn,args,that)};if(_isObject(fn.prototype))bound.prototype=fn.prototype;return bound};var rConstruct=(_global.Reflect||{}).construct;var NEW_TARGET_BUG=_fails(function(){function F(){}return!(rConstruct(function(){},[],F)instanceof F)});var ARGS_BUG=!_fails(function(){rConstruct(function(){})});_export(_export.S+_export.F*(NEW_TARGET_BUG||ARGS_BUG),"Reflect",{construct:function construct(Target,args){_aFunction(Target);_anObject(args);var newTarget=arguments.length<3?Target:_aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return rConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];$args.push.apply($args,args);return new(_bind.apply(Target,$args))}var proto=newTarget.prototype;var instance=_objectCreate(_isObject(proto)?proto:Object.prototype);var result=Function.apply.call(Target,instance,args);return _isObject(result)?result:instance}});_export(_export.S+_export.F*_fails(function(){Reflect.defineProperty(_objectDp.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function defineProperty(target,propertyKey,attributes){_anObject(target);propertyKey=_toPrimitive(propertyKey,true);_anObject(attributes);try{_objectDp.f(target,propertyKey,attributes);return true}catch(e){return false}}});var gOPD$2=_objectGopd.f;_export(_export.S,"Reflect",{deleteProperty:function deleteProperty(target,propertyKey){var desc=gOPD$2(_anObject(target),propertyKey);return desc&&!desc.configurable?false:delete target[propertyKey]}});function get(target,propertyKey){var receiver=arguments.length<3?target:arguments[2];var desc,proto;if(_anObject(target)===receiver)return target[propertyKey];if(desc=_objectGopd.f(target,propertyKey))return _has(desc,"value")?desc.value:desc.get!==undefined?desc.get.call(receiver):undefined;if(_isObject(proto=_objectGpo(target)))return get(proto,propertyKey,receiver)}_export(_export.S,"Reflect",{get:get});_export(_export.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,propertyKey){return _objectGopd.f(_anObject(target),propertyKey)}});_export(_export.S,"Reflect",{getPrototypeOf:function getPrototypeOf(target){return _objectGpo(_anObject(target))}});_export(_export.S,"Reflect",{has:function has(target,propertyKey){return propertyKey in target}});var $isExtensible=Object.isExtensible;_export(_export.S,"Reflect",{isExtensible:function isExtensible(target){_anObject(target);return $isExtensible?$isExtensible(target):true}});var Reflect$1=_global.Reflect;var _ownKeys=Reflect$1&&Reflect$1.ownKeys||function ownKeys(it){var keys=_objectGopn.f(_anObject(it));var getSymbols=_objectGops.f;return getSymbols?keys.concat(getSymbols(it)):keys};_export(_export.S,"Reflect",{ownKeys:_ownKeys});var $preventExtensions=Object.preventExtensions;_export(_export.S,"Reflect",{preventExtensions:function preventExtensions(target){_anObject(target);try{if($preventExtensions)$preventExtensions(target);return true}catch(e){return false}}});function set(target,propertyKey,V){var receiver=arguments.length<4?target:arguments[3];var ownDesc=_objectGopd.f(_anObject(target),propertyKey);var existingDescriptor,proto;if(!ownDesc){if(_isObject(proto=_objectGpo(target))){return set(proto,propertyKey,V,receiver)}ownDesc=_propertyDesc(0)}if(_has(ownDesc,"value")){if(ownDesc.writable===false||!_isObject(receiver))return false;existingDescriptor=_objectGopd.f(receiver,propertyKey)||_propertyDesc(0);existingDescriptor.value=V;_objectDp.f(receiver,propertyKey,existingDescriptor);return true}return ownDesc.set===undefined?false:(ownDesc.set.call(receiver,V),true)}_export(_export.S,"Reflect",{set:set});if(_setProto)_export(_export.S,"Reflect",{setPrototypeOf:function setPrototypeOf(target,proto){_setProto.check(target,proto);try{_setProto.set(target,proto);return true}catch(e){return false}}});var process$1=_global.process;var setTask=_global.setImmediate;var clearTask=_global.clearImmediate;var MessageChannel=_global.MessageChannel;var Dispatch=_global.Dispatch;var counter=0;var queue={};var ONREADYSTATECHANGE="onreadystatechange";var defer;var channel;var port;var run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id];fn()}};var listener=function(event){run.call(event.data)};if(!setTask||!clearTask){setTask=function setImmediate(fn){var args=[];var i=1;while(arguments.length>i)args.push(arguments[i++]);queue[++counter]=function(){_invoke(typeof fn=="function"?fn:Function(fn),args)};defer(counter);return counter};clearTask=function clearImmediate(id){delete queue[id]};if(_cof(process$1)=="process"){defer=function(id){process$1.nextTick(_ctx(run,id,1))}}else if(Dispatch&&Dispatch.now){defer=function(id){Dispatch.now(_ctx(run,id,1))}}else if(MessageChannel){channel=new MessageChannel;port=channel.port2;channel.port1.onmessage=listener;defer=_ctx(port.postMessage,port,1)}else if(_global.addEventListener&&typeof postMessage=="function"&&!_global.importScripts){defer=function(id){_global.postMessage(id+"","*")};_global.addEventListener("message",listener,false)}else if(ONREADYSTATECHANGE in _domCreate("script")){defer=function(id){_html.appendChild(_domCreate("script"))[ONREADYSTATECHANGE]=function(){_html.removeChild(this);run.call(id)}}}else{defer=function(id){setTimeout(_ctx(run,id,1),0)}}}var _task={set:setTask,clear:clearTask};var macrotask=_task.set;var Observer=_global.MutationObserver||_global.WebKitMutationObserver;var process$2=_global.process;var Promise$1=_global.Promise;var isNode$1=_cof(process$2)=="process";var _microtask=function(){var head,last,notify;var flush=function(){var parent,fn;if(isNode$1&&(parent=process$2.domain))parent.exit();while(head){fn=head.fn;head=head.next;try{fn()}catch(e){if(head)notify();else last=undefined;throw e}}last=undefined;if(parent)parent.enter()};if(isNode$1){notify=function(){process$2.nextTick(flush)}}else if(Observer&&!(_global.navigator&&_global.navigator.standalone)){var toggle=true;var node=document.createTextNode("");new Observer(flush).observe(node,{characterData:true});notify=function(){node.data=toggle=!toggle}}else if(Promise$1&&Promise$1.resolve){var promise=Promise$1.resolve();notify=function(){promise.then(flush)}}else{notify=function(){macrotask.call(_global,flush)}}return function(fn){var task={fn:fn,next:undefined};if(last)last.next=task;if(!head){head=task;notify()}last=task}};"use strict";function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(resolve!==undefined||reject!==undefined)throw TypeError("Bad Promise constructor");resolve=$$resolve;reject=$$reject});this.resolve=_aFunction(resolve);this.reject=_aFunction(reject)}var f$5=function(C){return new PromiseCapability(C)};var _newPromiseCapability={f:f$5};var _perform=function(exec){try{return{e:false,v:exec()}}catch(e){return{e:true,v:e}}};var _promiseResolve=function(C,x){_anObject(C);if(_isObject(x)&&x.constructor===C)return x;var promiseCapability=_newPromiseCapability.f(C);var resolve=promiseCapability.resolve;resolve(x);return promiseCapability.promise};"use strict";var task=_task.set;var microtask=_microtask();var PROMISE="Promise";var TypeError$1=_global.TypeError;var process=_global.process;var $Promise=_global[PROMISE];var isNode=_classof(process)=="process";var empty=function(){};var Internal;var newGenericPromiseCapability;var OwnPromiseCapability;var Wrapper;var newPromiseCapability=newGenericPromiseCapability=_newPromiseCapability.f;var USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1);var FakePromise=(promise.constructor={})[_wks("species")]=function(exec){exec(empty,empty)};return(isNode||typeof PromiseRejectionEvent=="function")&&promise.then(empty)instanceof FakePromise}catch(e){}}();var isThenable=function(it){var then;return _isObject(it)&&typeof(then=it.then)=="function"?then:false};var notify=function(promise,isReject){if(promise._n)return;promise._n=true;var chain=promise._c;microtask(function(){var value=promise._v;var ok=promise._s==1;var i=0;var run=function(reaction){var handler=ok?reaction.ok:reaction.fail;var resolve=reaction.resolve;var reject=reaction.reject;var domain=reaction.domain;var result,then;try{if(handler){if(!ok){if(promise._h==2)onHandleUnhandled(promise);promise._h=1}if(handler===true)result=value;else{if(domain)domain.enter();result=handler(value);if(domain)domain.exit()}if(result===reaction.promise){reject(TypeError$1("Promise-chain cycle"))}else if(then=isThenable(result)){then.call(result,resolve,reject)}else resolve(result)}else reject(value)}catch(e){reject(e)}};while(chain.length>i)run(chain[i++]);promise._c=[];promise._n=false;if(isReject&&!promise._h)onUnhandled(promise)})};var onUnhandled=function(promise){task.call(_global,function(){var value=promise._v;var unhandled=isUnhandled(promise);var result,handler,console;if(unhandled){result=_perform(function(){if(isNode){process.emit("unhandledRejection",value,promise)}else if(handler=_global.onunhandledrejection){handler({promise:promise,reason:value})}else if((console=_global.console)&&console.error){console.error("Unhandled promise rejection",value)}});promise._h=isNode||isUnhandled(promise)?2:1}promise._a=undefined;if(unhandled&&result.e)throw result.v})};var isUnhandled=function(promise){return promise._h!==1&&(promise._a||promise._c).length===0};var onHandleUnhandled=function(promise){task.call(_global,function(){var handler;if(isNode){process.emit("rejectionHandled",promise)}else if(handler=_global.onrejectionhandled){handler({promise:promise,reason:promise._v})}})};var $reject=function(value){var promise=this;if(promise._d)return;promise._d=true;promise=promise._w||promise;promise._v=value;promise._s=2;if(!promise._a)promise._a=promise._c.slice();notify(promise,true)};var $resolve=function(value){var promise=this;var then;if(promise._d)return;promise._d=true;promise=promise._w||promise;try{if(promise===value)throw TypeError$1("Promise can't be resolved itself");if(then=isThenable(value)){microtask(function(){var wrapper={_w:promise,_d:false};try{then.call(value,_ctx($resolve,wrapper,1),_ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}})}else{promise._v=value;promise._s=1;notify(promise,false)}}catch(e){$reject.call({_w:promise,_d:false},e)}};if(!USE_NATIVE){$Promise=function Promise(executor){_anInstance(this,$Promise,PROMISE,"_h");_aFunction(executor);Internal.call(this);try{executor(_ctx($resolve,this,1),_ctx($reject,this,1))}catch(err){$reject.call(this,err)}};Internal=function Promise(executor){this._c=[];this._a=undefined;this._s=0;this._d=false;this._v=undefined;this._h=0;this._n=false};Internal.prototype=_redefineAll($Promise.prototype,{then:function then(onFulfilled,onRejected){var reaction=newPromiseCapability(_speciesConstructor(this,$Promise));reaction.ok=typeof onFulfilled=="function"?onFulfilled:true;reaction.fail=typeof onRejected=="function"&&onRejected;reaction.domain=isNode?process.domain:undefined;this._c.push(reaction);if(this._a)this._a.push(reaction);if(this._s)notify(this,false);return reaction.promise},catch:function(onRejected){return this.then(undefined,onRejected)}});OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise;this.resolve=_ctx($resolve,promise,1);this.reject=_ctx($reject,promise,1)};_newPromiseCapability.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}}_export(_export.G+_export.W+_export.F*!USE_NATIVE,{Promise:$Promise});_setToStringTag($Promise,PROMISE);_setSpecies(PROMISE);Wrapper=_core[PROMISE];_export(_export.S+_export.F*!USE_NATIVE,PROMISE,{reject:function reject(r){var capability=newPromiseCapability(this);var $$reject=capability.reject;$$reject(r);return capability.promise}});_export(_export.S+_export.F*(_library||!USE_NATIVE),PROMISE,{resolve:function resolve(x){return _promiseResolve(_library&&this===Wrapper?$Promise:this,x)}});_export(_export.S+_export.F*!(USE_NATIVE&&_iterDetect(function(iter){$Promise.all(iter)["catch"](empty)})),PROMISE,{all:function all(iterable){var C=this;var capability=newPromiseCapability(C);var resolve=capability.resolve;var reject=capability.reject;var result=_perform(function(){var values=[];var index=0;var remaining=1;_forOf(iterable,false,function(promise){var $index=index++;var alreadyCalled=false;values.push(undefined);remaining++;C.resolve(promise).then(function(value){if(alreadyCalled)return;alreadyCalled=true;values[$index]=value;--remaining||resolve(values)},reject)});--remaining||resolve(values)});if(result.e)reject(result.v);return capability.promise},race:function race(iterable){var C=this;var capability=newPromiseCapability(C);var reject=capability.reject;var result=_perform(function(){_forOf(iterable,false,function(promise){C.resolve(promise).then(capability.resolve,reject)})});if(result.e)reject(result.v);return capability.promise}});var f$6=_wks;var _wksExt={f:f$6};var defineProperty=_objectDp.f;var _wksDefine=function(name){var $Symbol=_core.Symbol||(_core.Symbol=_library?{}:_global.Symbol||{});if(name.charAt(0)!="_"&&!(name in $Symbol))defineProperty($Symbol,name,{value:_wksExt.f(name)})};var _enumKeys=function(it){var result=_objectKeys(it);var getSymbols=_objectGops.f;if(getSymbols){var symbols=getSymbols(it);var isEnum=_objectPie.f;var i=0;var key;while(symbols.length>i)if(isEnum.call(it,key=symbols[i++]))result.push(key)}return result};var gOPN$1=_objectGopn.f;var toString$1={}.toString;var windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var getWindowNames=function(it){try{return gOPN$1(it)}catch(e){return windowNames.slice()}};var f$7=function getOwnPropertyNames(it){return windowNames&&toString$1.call(it)=="[object Window]"?getWindowNames(it):gOPN$1(_toIobject(it))};var _objectGopnExt={f:f$7};"use strict";var META=_meta.KEY;var gOPD$3=_objectGopd.f;var dP$2=_objectDp.f;var gOPN=_objectGopnExt.f;var $Symbol=_global.Symbol;var $JSON=_global.JSON;var _stringify=$JSON&&$JSON.stringify;var PROTOTYPE$2="prototype";var HIDDEN=_wks("_hidden");var TO_PRIMITIVE=_wks("toPrimitive");var isEnum={}.propertyIsEnumerable;var SymbolRegistry=_shared("symbol-registry");var AllSymbols=_shared("symbols");var OPSymbols=_shared("op-symbols");var ObjectProto$1=Object[PROTOTYPE$2];var USE_NATIVE$1=typeof $Symbol=="function";var QObject=_global.QObject;var setter=!QObject||!QObject[PROTOTYPE$2]||!QObject[PROTOTYPE$2].findChild;var setSymbolDesc=_descriptors&&_fails(function(){return _objectCreate(dP$2({},"a",{get:function(){return dP$2(this,"a",{value:7}).a}})).a!=7})?function(it,key,D){var protoDesc=gOPD$3(ObjectProto$1,key);if(protoDesc)delete ObjectProto$1[key];dP$2(it,key,D);if(protoDesc&&it!==ObjectProto$1)dP$2(ObjectProto$1,key,protoDesc)}:dP$2;var wrap=function(tag){var sym=AllSymbols[tag]=_objectCreate($Symbol[PROTOTYPE$2]);sym._k=tag;return sym};var isSymbol=USE_NATIVE$1&&typeof $Symbol.iterator=="symbol"?function(it){return typeof it=="symbol"}:function(it){return it instanceof $Symbol};var $defineProperty$1=function defineProperty(it,key,D){if(it===ObjectProto$1)$defineProperty$1(OPSymbols,key,D);_anObject(it);key=_toPrimitive(key,true);_anObject(D);if(_has(AllSymbols,key)){if(!D.enumerable){if(!_has(it,HIDDEN))dP$2(it,HIDDEN,_propertyDesc(1,{}));it[HIDDEN][key]=true}else{if(_has(it,HIDDEN)&&it[HIDDEN][key])it[HIDDEN][key]=false;D=_objectCreate(D,{enumerable:_propertyDesc(0,false)})}return setSymbolDesc(it,key,D)}return dP$2(it,key,D)};var $defineProperties=function defineProperties(it,P){_anObject(it);var keys=_enumKeys(P=_toIobject(P));var i=0;var l=keys.length;var key;while(l>i)$defineProperty$1(it,key=keys[i++],P[key]);return it};var $create=function create(it,P){return P===undefined?_objectCreate(it):$defineProperties(_objectCreate(it),P)};var $propertyIsEnumerable=function propertyIsEnumerable(key){var E=isEnum.call(this,key=_toPrimitive(key,true));if(this===ObjectProto$1&&_has(AllSymbols,key)&&!_has(OPSymbols,key))return false;return E||!_has(this,key)||!_has(AllSymbols,key)||_has(this,HIDDEN)&&this[HIDDEN][key]?E:true};var $getOwnPropertyDescriptor=function getOwnPropertyDescriptor(it,key){it=_toIobject(it);key=_toPrimitive(key,true);if(it===ObjectProto$1&&_has(AllSymbols,key)&&!_has(OPSymbols,key))return;var D=gOPD$3(it,key);if(D&&_has(AllSymbols,key)&&!(_has(it,HIDDEN)&&it[HIDDEN][key]))D.enumerable=true;return D};var $getOwnPropertyNames=function getOwnPropertyNames(it){var names=gOPN(_toIobject(it));var result=[];var i=0;var key;while(names.length>i){if(!_has(AllSymbols,key=names[i++])&&key!=HIDDEN&&key!=META)result.push(key)}return result};var $getOwnPropertySymbols=function getOwnPropertySymbols(it){var IS_OP=it===ObjectProto$1;var names=gOPN(IS_OP?OPSymbols:_toIobject(it));var result=[];var i=0;var key;while(names.length>i){if(_has(AllSymbols,key=names[i++])&&(IS_OP?_has(ObjectProto$1,key):true))result.push(AllSymbols[key])}return result};if(!USE_NATIVE$1){$Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=_uid(arguments.length>0?arguments[0]:undefined);var $set=function(value){if(this===ObjectProto$1)$set.call(OPSymbols,value);if(_has(this,HIDDEN)&&_has(this[HIDDEN],tag))this[HIDDEN][tag]=false;setSymbolDesc(this,tag,_propertyDesc(1,value))};if(_descriptors&&setter)setSymbolDesc(ObjectProto$1,tag,{configurable:true,set:$set});return wrap(tag)};_redefine($Symbol[PROTOTYPE$2],"toString",function toString(){return this._k});_objectGopd.f=$getOwnPropertyDescriptor;_objectDp.f=$defineProperty$1;_objectGopn.f=_objectGopnExt.f=$getOwnPropertyNames;_objectPie.f=$propertyIsEnumerable;_objectGops.f=$getOwnPropertySymbols;if(_descriptors&&!_library){_redefine(ObjectProto$1,"propertyIsEnumerable",$propertyIsEnumerable,true)}_wksExt.f=function(name){return wrap(_wks(name))}}_export(_export.G+_export.W+_export.F*!USE_NATIVE$1,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)_wks(es6Symbols[j++]);for(var wellKnownSymbols=_objectKeys(_wks.store),k=0;wellKnownSymbols.length>k;)_wksDefine(wellKnownSymbols[k++]);_export(_export.S+_export.F*!USE_NATIVE$1,"Symbol",{for:function(key){return _has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=true},useSimple:function(){setter=false}});_export(_export.S+_export.F*!USE_NATIVE$1,"Object",{create:$create,defineProperty:$defineProperty$1,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});$JSON&&_export(_export.S+_export.F*(!USE_NATIVE$1||_fails(function(){var S=$Symbol();return _stringify([S])!="[null]"||_stringify({a:S})!="{}"||_stringify(Object(S))!="{}"})),"JSON",{stringify:function stringify(it){var args=[it];var i=1;var replacer,$replacer;while(arguments.length>i)args.push(arguments[i++]);$replacer=replacer=args[1];if(!_isObject(replacer)&&it===undefined||isSymbol(it))return;if(!_isArray(replacer))replacer=function(key,value){if(typeof $replacer=="function")value=$replacer.call(this,key,value);if(!isSymbol(value))return value};args[1]=replacer;return _stringify.apply($JSON,args)}});$Symbol[PROTOTYPE$2][TO_PRIMITIVE]||_hide($Symbol[PROTOTYPE$2],TO_PRIMITIVE,$Symbol[PROTOTYPE$2].valueOf);_setToStringTag($Symbol,"Symbol");_setToStringTag(Math,"Math",true);_setToStringTag(_global.JSON,"JSON",true);var _objectSap=function(KEY,exec){var fn=(_core.Object||{})[KEY]||Object[KEY];var exp={};exp[KEY]=exec(fn);_export(_export.S+_export.F*_fails(function(){fn(1)}),"Object",exp)};var meta=_meta.onFreeze;_objectSap("freeze",function($freeze){return function freeze(it){return $freeze&&_isObject(it)?$freeze(meta(it)):it}});var meta$1=_meta.onFreeze;_objectSap("seal",function($seal){return function seal(it){return $seal&&_isObject(it)?$seal(meta$1(it)):it}});var meta$2=_meta.onFreeze;_objectSap("preventExtensions",function($preventExtensions){return function preventExtensions(it){return $preventExtensions&&_isObject(it)?$preventExtensions(meta$2(it)):it}});_objectSap("isFrozen",function($isFrozen){return function isFrozen(it){return _isObject(it)?$isFrozen?$isFrozen(it):false:true}});_objectSap("isSealed",function($isSealed){return function isSealed(it){return _isObject(it)?$isSealed?$isSealed(it):false:true}});_objectSap("isExtensible",function($isExtensible){return function isExtensible(it){return _isObject(it)?$isExtensible?$isExtensible(it):true:false}});var $getOwnPropertyDescriptor$1=_objectGopd.f;_objectSap("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(it,key){return $getOwnPropertyDescriptor$1(_toIobject(it),key)}});_objectSap("getPrototypeOf",function(){return function getPrototypeOf(it){return _objectGpo(_toObject(it))}});_objectSap("keys",function(){return function keys(it){return _objectKeys(_toObject(it))}});_objectSap("getOwnPropertyNames",function(){return _objectGopnExt.f});_export(_export.S+_export.F,"Object",{assign:_objectAssign});var _sameValue=Object.is||function is(x,y){return x===y?x!==0||1/x===1/y:x!=x&&y!=y};_export(_export.S,"Object",{is:_sameValue});var dP$3=_objectDp.f;var FProto=Function.prototype;var nameRE=/^\s*function ([^ (]*)/;var NAME="name";NAME in FProto||_descriptors&&dP$3(FProto,NAME,{configurable:true,get:function(){try{return(""+this).match(nameRE)[1]}catch(e){return""}}});_export(_export.S,"String",{raw:function raw(callSite){var tpl=_toIobject(callSite.raw);var len=_toLength(tpl.length);var aLen=arguments.length;var res=[];var i=0;while(len>i){res.push(String(tpl[i++]));if(i<aLen)res.push(String(arguments[i]))}return res.join("")}});var fromCharCode=String.fromCharCode;var $fromCodePoint=String.fromCodePoint;_export(_export.S+_export.F*(!!$fromCodePoint&&$fromCodePoint.length!=1),"String",{fromCodePoint:function fromCodePoint(x){var res=[];var aLen=arguments.length;var i=0;var code;while(aLen>i){code=+arguments[i++];if(_toAbsoluteIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");res.push(code<65536?fromCharCode(code):fromCharCode(((code-=65536)>>10)+55296,code%1024+56320))}return res.join("")}});var _stringAt=function(TO_STRING){return function(that,pos){var s=String(_defined(that));var i=_toInteger(pos);var l=s.length;var a,b;if(i<0||i>=l)return TO_STRING?"":undefined;a=s.charCodeAt(i);return a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536}};"use strict";var $at=_stringAt(false);_export(_export.P,"String",{codePointAt:function codePointAt(pos){return $at(this,pos)}});"use strict";var _stringRepeat=function repeat(count){var str=String(_defined(this));var res="";var n=_toInteger(count);if(n<0||n==Infinity)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(str+=str))if(n&1)res+=str;return res};_export(_export.P,"String",{repeat:_stringRepeat});var MATCH=_wks("match");var _isRegexp=function(it){var isRegExp;return _isObject(it)&&((isRegExp=it[MATCH])!==undefined?!!isRegExp:_cof(it)=="RegExp")};var _stringContext=function(that,searchString,NAME){if(_isRegexp(searchString))throw TypeError("String#"+NAME+" doesn't accept regex!");return String(_defined(that))};var MATCH$1=_wks("match");var _failsIsRegexp=function(KEY){var re=/./;try{"/./"[KEY](re)}catch(e){try{re[MATCH$1]=false;return!"/./"[KEY](re)}catch(f){}}return true};"use strict";var STARTS_WITH="startsWith";var $startsWith=""[STARTS_WITH];_export(_export.P+_export.F*_failsIsRegexp(STARTS_WITH),"String",{startsWith:function startsWith(searchString){var that=_stringContext(this,searchString,STARTS_WITH);var index=_toLength(Math.min(arguments.length>1?arguments[1]:undefined,that.length));var search=String(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search}});"use strict";var ENDS_WITH="endsWith";var $endsWith=""[ENDS_WITH];_export(_export.P+_export.F*_failsIsRegexp(ENDS_WITH),"String",{endsWith:function endsWith(searchString){var that=_stringContext(this,searchString,ENDS_WITH);var endPosition=arguments.length>1?arguments[1]:undefined;var len=_toLength(that.length);var end=endPosition===undefined?len:Math.min(_toLength(endPosition),len);var search=String(searchString);return $endsWith?$endsWith.call(that,search,end):that.slice(end-search.length,end)===search}});"use strict";var INCLUDES="includes";_export(_export.P+_export.F*_failsIsRegexp(INCLUDES),"String",{includes:function includes(searchString){return!!~_stringContext(this,searchString,INCLUDES).indexOf(searchString,arguments.length>1?arguments[1]:undefined)}});"use strict";var _flags=function(){var that=_anObject(this);var result="";if(that.global)result+="g";if(that.ignoreCase)result+="i";if(that.multiline)result+="m";if(that.unicode)result+="u";if(that.sticky)result+="y";return result};if(_descriptors&&/./g.flags!="g")_objectDp.f(RegExp.prototype,"flags",{configurable:true,get:_flags});"use strict";var _fixReWks=function(KEY,length,exec){var SYMBOL=_wks(KEY);var fns=exec(_defined,SYMBOL,""[KEY]);var strfn=fns[0];var rxfn=fns[1];if(_fails(function(){var O={};O[SYMBOL]=function(){return 7};return""[KEY](O)!=7})){_redefine(String.prototype,KEY,strfn);_hide(RegExp.prototype,SYMBOL,length==2?function(string,arg){return rxfn.call(string,this,arg)}:function(string){return rxfn.call(string,this)})}};_fixReWks("match",1,function(defined,MATCH,$match){return[function match(regexp){"use strict";var O=defined(this);var fn=regexp==undefined?undefined:regexp[MATCH];return fn!==undefined?fn.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},$match]});_fixReWks("replace",2,function(defined,REPLACE,$replace){return[function replace(searchValue,replaceValue){"use strict";var O=defined(this);var fn=searchValue==undefined?undefined:searchValue[REPLACE];return fn!==undefined?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue)},$replace]});_fixReWks("split",2,function(defined,SPLIT,$split){"use strict";var isRegExp=_isRegexp;var _split=$split;var $push=[].push;var $SPLIT="split";var LENGTH="length";var LAST_INDEX="lastIndex";if("abbc"[$SPLIT](/(b)*/)[1]=="c"||"test"[$SPLIT](/(?:)/,-1)[LENGTH]!=4||"ab"[$SPLIT](/(?:ab)*/)[LENGTH]!=2||"."[$SPLIT](/(.?)(.?)/)[LENGTH]!=4||"."[$SPLIT](/()()/)[LENGTH]>1||""[$SPLIT](/.?/)[LENGTH]){var NPCG=/()??/.exec("")[1]===undefined;$split=function(separator,limit){var string=String(this);if(separator===undefined&&limit===0)return[];if(!isRegExp(separator))return _split.call(string,separator,limit);var output=[];var flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":"");var lastLastIndex=0;var splitLimit=limit===undefined?4294967295:limit>>>0;var separatorCopy=new RegExp(separator.source,flags+"g");var separator2,match,lastIndex,lastLength,i;if(!NPCG)separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags);while(match=separatorCopy.exec(string)){lastIndex=match.index+match[0][LENGTH];if(lastIndex>lastLastIndex){output.push(string.slice(lastLastIndex,match.index));if(!NPCG&&match[LENGTH]>1)match[0].replace(separator2,function(){for(i=1;i<arguments[LENGTH]-2;i++)if(arguments[i]===undefined)match[i]=undefined});if(match[LENGTH]>1&&match.index<string[LENGTH])$push.apply(output,match.slice(1));lastLength=match[0][LENGTH];lastLastIndex=lastIndex;if(output[LENGTH]>=splitLimit)break}if(separatorCopy[LAST_INDEX]===match.index)separatorCopy[LAST_INDEX]++}if(lastLastIndex===string[LENGTH]){if(lastLength||!separatorCopy.test(""))output.push("")}else output.push(string.slice(lastLastIndex));return output[LENGTH]>splitLimit?output.slice(0,splitLimit):output}}else if("0"[$SPLIT](undefined,0)[LENGTH]){$split=function(separator,limit){return separator===undefined&&limit===0?[]:_split.call(this,separator,limit)}}return[function split(separator,limit){var O=defined(this);var fn=separator==undefined?undefined:separator[SPLIT];return fn!==undefined?fn.call(separator,O,limit):$split.call(String(O),separator,limit)},$split]});_fixReWks("search",1,function(defined,SEARCH,$search){return[function search(regexp){"use strict";var O=defined(this);var fn=regexp==undefined?undefined:regexp[SEARCH];return fn!==undefined?fn.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},$search]});"use strict";var _createProperty=function(object,index,value){if(index in object)_objectDp.f(object,index,_propertyDesc(0,value));else object[index]=value};"use strict";_export(_export.S+_export.F*!_iterDetect(function(iter){}),"Array",{from:function from(arrayLike){var O=_toObject(arrayLike);var C=typeof this=="function"?this:Array;var aLen=arguments.length;var mapfn=aLen>1?arguments[1]:undefined;var mapping=mapfn!==undefined;var index=0;var iterFn=core_getIteratorMethod(O);var length,result,step,iterator;if(mapping)mapfn=_ctx(mapfn,aLen>2?arguments[2]:undefined,2);if(iterFn!=undefined&&!(C==Array&&_isArrayIter(iterFn))){for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++){_createProperty(result,index,mapping?_iterCall(iterator,mapfn,[step.value,index],true):step.value)}}else{length=_toLength(O.length);for(result=new C(length);length>index;index++){_createProperty(result,index,mapping?mapfn(O[index],index):O[index])}}result.length=index;return result}});"use strict";_export(_export.S+_export.F*_fails(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function of(){var index=0;var aLen=arguments.length;var result=new(typeof this=="function"?this:Array)(aLen);while(aLen>index)_createProperty(result,index,arguments[index++]);result.length=aLen;return result}});_export(_export.P,"Array",{copyWithin:_arrayCopyWithin});_addToUnscopables("copyWithin");"use strict";var $find=_arrayMethods(5);var KEY="find";var forced=true;if(KEY in[])Array(1)[KEY](function(){forced=false});_export(_export.P+_export.F*forced,"Array",{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined)}});_addToUnscopables(KEY);"use strict";var $find$1=_arrayMethods(6);var KEY$1="findIndex";var forced$1=true;if(KEY$1 in[])Array(1)[KEY$1](function(){forced$1=false});_export(_export.P+_export.F*forced$1,"Array",{findIndex:function findIndex(callbackfn){return $find$1(this,callbackfn,arguments.length>1?arguments[1]:undefined)}});_addToUnscopables(KEY$1);_export(_export.P,"Array",{fill:_arrayFill});_addToUnscopables("fill");var _isFinite=_global.isFinite;_export(_export.S,"Number",{isFinite:function isFinite(it){return typeof it=="number"&&_isFinite(it)}});var floor$1=Math.floor;var _isInteger=function isInteger(it){return!_isObject(it)&&isFinite(it)&&floor$1(it)===it};_export(_export.S,"Number",{isInteger:_isInteger});var abs=Math.abs;_export(_export.S,"Number",{isSafeInteger:function isSafeInteger(number){return _isInteger(number)&&abs(number)<=9007199254740991}});_export(_export.S,"Number",{isNaN:function isNaN(number){return number!=number}});_export(_export.S,"Number",{EPSILON:Math.pow(2,-52)});_export(_export.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991});_export(_export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991});var _mathLog1p=Math.log1p||function log1p(x){return(x=+x)>-1e-8&&x<1e-8?x-x*x/2:Math.log(1+x)};var sqrt=Math.sqrt;var $acosh=Math.acosh;_export(_export.S+_export.F*!($acosh&&Math.floor($acosh(Number.MAX_VALUE))==710&&$acosh(Infinity)==Infinity),"Math",{acosh:function acosh(x){return(x=+x)<1?NaN:x>94906265.62425156?Math.log(x)+Math.LN2:_mathLog1p(x-1+sqrt(x-1)*sqrt(x+1))}});var $asinh=Math.asinh;function asinh(x){return!isFinite(x=+x)||x==0?x:x<0?-asinh(-x):Math.log(x+Math.sqrt(x*x+1))}_export(_export.S+_export.F*!($asinh&&1/$asinh(0)>0),"Math",{asinh:asinh});var $atanh=Math.atanh;_export(_export.S+_export.F*!($atanh&&1/$atanh(-0)<0),"Math",{atanh:function atanh(x){return(x=+x)==0?x:Math.log((1+x)/(1-x))/2}});var _mathSign=Math.sign||function sign(x){return(x=+x)==0||x!=x?x:x<0?-1:1};_export(_export.S,"Math",{cbrt:function cbrt(x){return _mathSign(x=+x)*Math.pow(Math.abs(x),1/3)}});_export(_export.S,"Math",{clz32:function clz32(x){return(x>>>=0)?31-Math.floor(Math.log(x+.5)*Math.LOG2E):32}});var exp=Math.exp;_export(_export.S,"Math",{cosh:function cosh(x){return(exp(x=+x)+exp(-x))/2}});var $expm1=Math.expm1;var _mathExpm1=!$expm1||$expm1(10)>22025.465794806718||$expm1(10)<22025.465794806718||$expm1(-2e-17)!=-2e-17?function expm1(x){return(x=+x)==0?x:x>-1e-6&&x<1e-6?x+x*x/2:Math.exp(x)-1}:$expm1;_export(_export.S+_export.F*(_mathExpm1!=Math.expm1),"Math",{expm1:_mathExpm1});var pow=Math.pow;var EPSILON=pow(2,-52);var EPSILON32=pow(2,-23);var MAX32=pow(2,127)*(2-EPSILON32);var MIN32=pow(2,-126);var roundTiesToEven=function(n){return n+1/EPSILON-1/EPSILON};var _mathFround=Math.fround||function fround(x){var $abs=Math.abs(x);var $sign=_mathSign(x);var a,result;if($abs<MIN32)return $sign*roundTiesToEven($abs/MIN32/EPSILON32)*MIN32*EPSILON32;a=(1+EPSILON32/EPSILON)*$abs;result=a-(a-$abs);if(result>MAX32||result!=result)return $sign*Infinity;return $sign*result};_export(_export.S,"Math",{fround:_mathFround});var abs$1=Math.abs;_export(_export.S,"Math",{hypot:function hypot(value1,value2){var sum=0;var i=0;var aLen=arguments.length;var larg=0;var arg,div;while(i<aLen){arg=abs$1(arguments[i++]);if(larg<arg){div=larg/arg;sum=sum*div*div+1;larg=arg}else if(arg>0){div=arg/larg;sum+=div*div}else sum+=arg}return larg===Infinity?Infinity:larg*Math.sqrt(sum)}});var $imul=Math.imul;_export(_export.S+_export.F*_fails(function(){return $imul(4294967295,5)!=-5||$imul.length!=2}),"Math",{imul:function imul(x,y){var UINT16=65535;var xn=+x;var yn=+y;var xl=UINT16&xn;var yl=UINT16&yn;return 0|xl*yl+((UINT16&xn>>>16)*yl+xl*(UINT16&yn>>>16)<<16>>>0)}});_export(_export.S,"Math",{log1p:_mathLog1p});_export(_export.S,"Math",{log10:function log10(x){return Math.log(x)*Math.LOG10E}});_export(_export.S,"Math",{log2:function log2(x){return Math.log(x)/Math.LN2}});_export(_export.S,"Math",{sign:_mathSign});var exp$1=Math.exp;_export(_export.S+_export.F*_fails(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function sinh(x){return Math.abs(x=+x)<1?(_mathExpm1(x)-_mathExpm1(-x))/2:(exp$1(x-1)-exp$1(-x-1))*(Math.E/2)}});var exp$2=Math.exp;_export(_export.S,"Math",{tanh:function tanh(x){var a=_mathExpm1(x=+x);var b=_mathExpm1(-x);return a==Infinity?1:b==Infinity?-1:(a-b)/(exp$2(x)+exp$2(-x))}});_export(_export.S,"Math",{trunc:function trunc(it){return(it>0?Math.floor:Math.ceil)(it)}});"use strict";var $includes=_arrayIncludes(true);_export(_export.P,"Array",{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:undefined)}});_addToUnscopables("includes");var isEnum$1=_objectPie.f;var _objectToArray=function(isEntries){return function(it){var O=_toIobject(it);var keys=_objectKeys(O);var length=keys.length;var i=0;var result=[];var key;while(length>i)if(isEnum$1.call(O,key=keys[i++])){result.push(isEntries?[key,O[key]]:O[key])}return result}};var $values=_objectToArray(false);_export(_export.S,"Object",{values:function values(it){return $values(it)}});var $entries=_objectToArray(true);_export(_export.S,"Object",{entries:function entries(it){return $entries(it)}});_export(_export.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(object){var O=_toIobject(object);var getDesc=_objectGopd.f;var keys=_ownKeys(O);var result={};var i=0;var key,desc;while(keys.length>i){desc=getDesc(O,key=keys[i++]);if(desc!==undefined)_createProperty(result,key,desc)}return result}});var _stringPad=function(that,maxLength,fillString,left){var S=String(_defined(that));var stringLength=S.length;var fillStr=fillString===undefined?" ":String(fillString);var intMaxLength=_toLength(maxLength);if(intMaxLength<=stringLength||fillStr=="")return S;var fillLen=intMaxLength-stringLength;var stringFiller=_stringRepeat.call(fillStr,Math.ceil(fillLen/fillStr.length));if(stringFiller.length>fillLen)stringFiller=stringFiller.slice(0,fillLen);return left?stringFiller+S:S+stringFiller};var navigator$1=_global.navigator;var _userAgent=navigator$1&&navigator$1.userAgent||"";"use strict";_export(_export.P+_export.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(_userAgent),"String",{padStart:function padStart(maxLength){return _stringPad(this,maxLength,arguments.length>1?arguments[1]:undefined,true)}});"use strict";_export(_export.P+_export.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(_userAgent),"String",{padEnd:function padEnd(maxLength){return _stringPad(this,maxLength,arguments.length>1?arguments[1]:undefined,false)}});var slice=[].slice;var MSIE=/MSIE .\./.test(_userAgent);var wrap$1=function(set){return function(fn,time){var boundArgs=arguments.length>2;var args=boundArgs?slice.call(arguments,2):false;return set(boundArgs?function(){(typeof fn=="function"?fn:Function(fn)).apply(this,args)}:fn,time)}};_export(_export.G+_export.B+_export.F*MSIE,{setTimeout:wrap$1(_global.setTimeout),setInterval:wrap$1(_global.setInterval)});_export(_export.G+_export.B,{setImmediate:_task.set,clearImmediate:_task.clear});var ITERATOR$4=_wks("iterator");var TO_STRING_TAG=_wks("toStringTag");var ArrayValues=_iterators.Array;var DOMIterables={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var collections=_objectKeys(DOMIterables),i$1=0;i$1<collections.length;i$1++){var NAME$1=collections[i$1];var explicit=DOMIterables[NAME$1];var Collection=_global[NAME$1];var proto=Collection&&Collection.prototype;var key;if(proto){if(!proto[ITERATOR$4])_hide(proto,ITERATOR$4,ArrayValues);if(!proto[TO_STRING_TAG])_hide(proto,TO_STRING_TAG,NAME$1);_iterators[NAME$1]=ArrayValues;if(explicit)for(key in es6_array_iterator)if(!proto[key])_redefine(proto,key,es6_array_iterator[key],true)}}var runtime=createCommonjsModule(function(module){!function(global){"use strict";var Op=Object.prototype;var hasOwn=Op.hasOwnProperty;var undefined;var $Symbol=typeof Symbol==="function"?Symbol:{};var iteratorSymbol=$Symbol.iterator||"@@iterator";var asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator";var toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";var inModule="object"==="object";var runtime=global.regeneratorRuntime;if(runtime){if(inModule){module.exports=runtime}return}runtime=global.regeneratorRuntime=inModule?module.exports:{};function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator;var generator=Object.create(protoGenerator.prototype);var context=new Context(tryLocsList||[]);generator._invoke=makeInvokeMethod(innerFn,self,context);return generator}runtime.wrap=wrap;function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}var GenStateSuspendedStart="suspendedStart";var GenStateSuspendedYield="suspendedYield";var GenStateExecuting="executing";var GenStateCompleted="completed";var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf;var NativeIteratorPrototype=getProto&&getProto(getProto(values([])));if(NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)){IteratorPrototype=NativeIteratorPrototype}var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction";function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}runtime.isGeneratorFunction=function(genFun){var ctor=typeof genFun==="function"&&genFun.constructor;return ctor?ctor===GeneratorFunction||(ctor.displayName||ctor.name)==="GeneratorFunction":false};runtime.mark=function(genFun){if(Object.setPrototypeOf){Object.setPrototypeOf(genFun,GeneratorFunctionPrototype)}else{genFun.__proto__=GeneratorFunctionPrototype;if(!(toStringTagSymbol in genFun)){genFun[toStringTagSymbol]="GeneratorFunction"}}genFun.prototype=Object.create(Gp);return genFun};runtime.awrap=function(arg){return{__await:arg}};function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if(record.type==="throw"){reject(record.arg)}else{var result=record.arg;var value=result.value;if(value&&typeof value==="object"&&hasOwn.call(value,"__await")){return Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)})}return Promise.resolve(value).then(function(unwrapped){result.value=unwrapped;resolve(result)},reject)}}if(typeof global.process==="object"&&global.process.domain){invoke=global.process.domain.bind(invoke)}var previousPromise;function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}this._invoke=enqueue}defineIteratorMethods(AsyncIterator.prototype);AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this};runtime.AsyncIterator=AsyncIterator;runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})};function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting){throw new Error("Generator is already running")}if(state===GenStateCompleted){if(method==="throw"){throw arg}return doneResult()}context.method=method;context.arg=arg;while(true){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if(context.method==="next"){context.sent=context._sent=context.arg}else if(context.method==="throw"){if(state===GenStateSuspendedStart){state=GenStateCompleted;throw context.arg}context.dispatchException(context.arg)}else if(context.method==="return"){context.abrupt("return",context.arg)}state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if(record.type==="normal"){state=context.done?GenStateCompleted:GenStateSuspendedYield;if(record.arg===ContinueSentinel){continue}return{value:record.arg,done:context.done}}else if(record.type==="throw"){state=GenStateCompleted;context.method="throw";context.arg=record.arg}}}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){context.delegate=null;if(context.method==="throw"){if(delegate.iterator.return){context.method="return";context.arg=undefined;maybeInvokeDelegate(delegate,context);if(context.method==="throw"){return ContinueSentinel}}context.method="throw";context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if(record.type==="throw"){context.method="throw";context.arg=record.arg;context.delegate=null;return ContinueSentinel}var info=record.arg;if(!info){context.method="throw";context.arg=new TypeError("iterator result is not an object");context.delegate=null;return ContinueSentinel}if(info.done){context[delegate.resultName]=info.value;context.next=delegate.nextLoc;if(context.method!=="return"){context.method="next";context.arg=undefined}}else{return info}context.delegate=null;return ContinueSentinel}defineIteratorMethods(Gp);Gp[toStringTagSymbol]="Generator";Gp[iteratorSymbol]=function(){return this};Gp.toString=function(){return"[object Generator]"};function pushTryEntry(locs){var entry={tryLoc:locs[0]};if(1 in locs){entry.catchLoc=locs[1]}if(2 in locs){entry.finallyLoc=locs[2];entry.afterLoc=locs[3]}this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal";delete record.arg;entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}];tryLocsList.forEach(pushTryEntry,this);this.reset(true)}runtime.keys=function(object){var keys=[];for(var key in object){keys.push(key)}keys.reverse();return function next(){while(keys.length){var key=keys.pop();if(key in object){next.value=key;next.done=false;return next}}next.done=true;return next}};function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod){return iteratorMethod.call(iterable)}if(typeof iterable.next==="function"){return iterable}if(!isNaN(iterable.length)){var i=-1,next=function next(){while(++i<iterable.length){if(hasOwn.call(iterable,i)){next.value=iterable[i];next.done=false;return next}}next.value=undefined;next.done=true;return next};return next.next=next}}return{next:doneResult}}runtime.values=values;function doneResult(){return{value:undefined,done:true}}Context.prototype={constructor:Context,reset:function(skipTempReset){this.prev=0;this.next=0;this.sent=this._sent=undefined;this.done=false;this.delegate=null;this.method="next";this.arg=undefined;this.tryEntries.forEach(resetTryEntry);if(!skipTempReset){for(var name in this){if(name.charAt(0)==="t"&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))){this[name]=undefined}}}},stop:function(){this.done=true;var rootEntry=this.tryEntries[0];var rootRecord=rootEntry.completion;if(rootRecord.type==="throw"){throw rootRecord.arg}return this.rval},dispatchException:function(exception){if(this.done){throw exception}var context=this;function handle(loc,caught){record.type="throw";record.arg=exception;context.next=loc;if(caught){context.method="next";context.arg=undefined}return!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];var record=entry.completion;if(entry.tryLoc==="root"){return handle("end")}if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc");var hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}else if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else if(hasCatch){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}}else if(hasFinally){if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}if(finallyEntry&&(type==="break"||type==="continue")&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc){finallyEntry=null}var record=finallyEntry?finallyEntry.completion:{};record.type=type;record.arg=arg;if(finallyEntry){this.method="next";this.next=finallyEntry.finallyLoc;return ContinueSentinel}return this.complete(record)},complete:function(record,afterLoc){if(record.type==="throw"){throw record.arg}if(record.type==="break"||record.type==="continue"){this.next=record.arg}else if(record.type==="return"){this.rval=this.arg=record.arg;this.method="return";this.next="end"}else if(record.type==="normal"&&afterLoc){this.next=afterLoc}return ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc){this.complete(entry.completion,entry.afterLoc);resetTryEntry(entry);return ContinueSentinel}}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type==="throw"){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc};if(this.method==="next"){this.arg=undefined}return ContinueSentinel}}}(typeof commonjsGlobal==="object"?commonjsGlobal:typeof window==="object"?window:typeof self==="object"?self:commonjsGlobal)});try{var ce=new window.CustomEvent("test");ce.preventDefault();if(ce.defaultPrevented!==true){throw new Error("Could not prevent default")}}catch(e){var CustomEvent$1=function(event,params){var evt,origPrevent;params=params||{bubbles:false,cancelable:false,detail:undefined};evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);origPrevent=evt.preventDefault;evt.preventDefault=function(){origPrevent.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return true}})}catch(e){this.defaultPrevented=true}};return evt};CustomEvent$1.prototype=window.Event.prototype;window.CustomEvent=CustomEvent$1}var providers={html5:"html5",youtube:"youtube",vimeo:"vimeo"};var types={audio:"audio",video:"video"};var defaults={enabled:true,title:"",debug:false,autoplay:false,autopause:true,seekTime:10,volume:1,muted:false,duration:null,displayDuration:true,invertTime:true,toggleInvert:true,ratio:"16:9",clickToPlay:true,hideControls:true,showPosterOnEnd:false,disableContextMenu:true,loadSprite:true,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.0.3/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:"default",options:["hd2160","hd1440","hd1080","hd720","large","medium","small","tiny","default"]},loop:{active:false},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:true,global:false},tooltips:{controls:false,seek:true},captions:{active:false,language:window.navigator.language.split("-")[0]},fullscreen:{enabled:true,fallback:true,iosNative:false},storage:{enabled:true,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime} secs",play:"Play",pause:"Pause",forward:"Forward {seektime} secs",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",speed:"Speed",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",none:"None",disabled:"Disabled",advertisement:"Ad"},urls:{vimeo:{api:"https://player.vimeo.com/api/player.js"},youtube:{api:"https://www.youtube.com/iframe_api"},googleIMA:{api:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,forward:null,mute:null,volume:null,captions:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","qualityrequested","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress--buffer",played:".plyr__progress--played",loop:".plyr__progress--loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",menu:{quality:".js-plyr__menu__list--quality"}},classNames:{video:"plyr__video-wrapper",embed:"plyr__video-embed",ads:"plyr__ads",control:"plyr__control",type:"plyr--{0}",provider:"plyr--{0}",stopped:"plyr--stopped",playing:"plyr--playing",loading:"plyr--loading",error:"plyr--has-error",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus"},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},keys:{google:null},ads:{enabled:false,publisherId:""}};var loadjs_umd=createCommonjsModule(function(module,exports){(function(root,factory){if(typeof undefined==="function"&&undefined.amd){undefined([],factory)}else{module.exports=factory()}})(commonjsGlobal,function(){var devnull=function(){},bundleIdCache={},bundleResultCache={},bundleCallbackQueue={};function subscribe(bundleIds,callbackFn){bundleIds=bundleIds.push?bundleIds:[bundleIds];var depsNotFound=[],i=bundleIds.length,numWaiting=i,fn,bundleId,r,q;fn=function(bundleId,pathsNotFound){if(pathsNotFound.length)depsNotFound.push(bundleId);numWaiting--;if(!numWaiting)callbackFn(depsNotFound)};while(i--){bundleId=bundleIds[i];r=bundleResultCache[bundleId];if(r){fn(bundleId,r);continue}q=bundleCallbackQueue[bundleId]=bundleCallbackQueue[bundleId]||[];q.push(fn)}}function publish(bundleId,pathsNotFound){if(!bundleId)return;var q=bundleCallbackQueue[bundleId];bundleResultCache[bundleId]=pathsNotFound;if(!q)return;while(q.length){q[0](bundleId,pathsNotFound);q.splice(0,1)}}function executeCallbacks(args,depsNotFound){if(args.call)args={success:args};if(depsNotFound.length)(args.error||devnull)(depsNotFound);else(args.success||devnull)(args)}function loadFile(path,callbackFn,args,numTries){var doc=document,async=args.async,maxTries=(args.numRetries||0)+1,beforeCallbackFn=args.before||devnull,isCss,e;numTries=numTries||0;if(/(^css!|\.css$)/.test(path)){isCss=true;e=doc.createElement("link");e.rel="stylesheet";e.href=path.replace(/^css!/,"")}else{e=doc.createElement("script");e.src=path;e.async=async===undefined?true:async}e.onload=e.onerror=e.onbeforeload=function(ev){var result=ev.type[0];if(isCss&&"hideFocus"in e){try{if(!e.sheet.cssText.length)result="e"}catch(x){result="e"}}if(result=="e"){numTries+=1;if(numTries<maxTries){return loadFile(path,callbackFn,args,numTries)}}callbackFn(path,result,ev.defaultPrevented)};if(beforeCallbackFn(path,e)!==false)doc.head.appendChild(e)}function loadFiles(paths,callbackFn,args){paths=paths.push?paths:[paths];var numWaiting=paths.length,x=numWaiting,pathsNotFound=[],fn,i;fn=function(path,result,defaultPrevented){if(result=="e")pathsNotFound.push(path);if(result=="b"){if(defaultPrevented)pathsNotFound.push(path);else return}numWaiting--;if(!numWaiting)callbackFn(pathsNotFound)};for(i=0;i<x;i++)loadFile(paths[i],fn,args)}function loadjs(paths,arg1,arg2){var bundleId,args;if(arg1&&arg1.trim)bundleId=arg1;args=(bundleId?arg2:arg1)||{};if(bundleId){if(bundleId in bundleIdCache){throw"LoadJS"}else{bundleIdCache[bundleId]=true}}loadFiles(paths,function(pathsNotFound){executeCallbacks(args,pathsNotFound);publish(bundleId,pathsNotFound)},args)}loadjs.ready=function ready(deps,args){subscribe(deps,function(depsNotFound){executeCallbacks(args,depsNotFound)});return loadjs};loadjs.done=function done(bundleId){publish(bundleId,[])};loadjs.reset=function reset(){bundleIdCache={};bundleResultCache={};bundleCallbackQueue={}};loadjs.isDefined=function isDefined(bundleId){return bundleId in bundleIdCache};return loadjs})});var asyncGenerator=function(){function AwaitValue(value){this.value=value}function AsyncGenerator(gen){var front,back;function send(key,arg){return new Promise(function(resolve,reject){var request={key:key,arg:arg,resolve:resolve,reject:reject,next:null};if(back){back=back.next=request}else{front=back=request;resume(key,arg)}})}function resume(key,arg){try{var result=gen[key](arg);var value=result.value;if(value instanceof AwaitValue){Promise.resolve(value.value).then(function(arg){resume("next",arg)},function(arg){resume("throw",arg)})}else{settle(result.done?"return":"normal",result.value)}}catch(err){settle("throw",err)}}function settle(type,value){switch(type){case"return":front.resolve({value:value,done:true});break;case"throw":front.reject(value);break;default:front.resolve({value:value,done:false});break}front=front.next;if(front){resume(front.key,front.arg)}else{back=null}}this._invoke=send;if(typeof gen.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this}}AsyncGenerator.prototype.next=function(arg){return this._invoke("next",arg)};AsyncGenerator.prototype.throw=function(arg){return this._invoke("throw",arg)};AsyncGenerator.prototype.return=function(arg){return this._invoke("return",arg)};return{wrap:function(fn){return function(){return new AsyncGenerator(fn.apply(this,arguments))}},await:function(value){return new AwaitValue(value)}}}();var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var defineProperty$1=function(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj};var slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var toConsumableArray=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}else{return Array.from(arr)}};var utils={is:{plyr:function plyr(input){return this.instanceof(input,window.Plyr)},object:function object(input){return this.getConstructor(input)===Object},number:function number(input){return this.getConstructor(input)===Number&&!Number.isNaN(input)},string:function string(input){return this.getConstructor(input)===String},boolean:function boolean(input){return this.getConstructor(input)===Boolean},function:function _function(input){return this.getConstructor(input)===Function},array:function array(input){return!this.nullOrUndefined(input)&&Array.isArray(input)},weakMap:function weakMap(input){return this.instanceof(input,window.WeakMap)},nodeList:function nodeList(input){return this.instanceof(input,window.NodeList)},element:function element(input){return this.instanceof(input,window.Element)},textNode:function textNode(input){return this.getConstructor(input)===Text},event:function event(input){return this.instanceof(input,window.Event)},cue:function cue(input){return this.instanceof(input,window.TextTrackCue)||this.instanceof(input,window.VTTCue)},track:function track(input){return this.instanceof(input,TextTrack)||!this.nullOrUndefined(input)&&this.string(input.kind)},url:function url(input){return!this.nullOrUndefined(input)&&/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/]))?/.test(input)},nullOrUndefined:function nullOrUndefined(input){return input===null||typeof input==="undefined"},empty:function empty(input){return this.nullOrUndefined(input)||(this.string(input)||this.array(input)||this.nodeList(input))&&!input.length||this.object(input)&&!Object.keys(input).length},instanceof:function _instanceof$$1(input,constructor){return Boolean(input&&constructor&&input instanceof constructor)},getConstructor:function getConstructor(input){return!this.nullOrUndefined(input)?input.constructor:null}},getBrowser:function getBrowser(){return{isIE:false||!!document.documentMode,isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)}},fetch:function fetch(url){var responseType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"text";return new Promise(function(resolve,reject){try{var request=new XMLHttpRequest;if(!("withCredentials"in request)){return}request.addEventListener("load",function(){if(responseType==="text"){try{resolve(JSON.parse(request.responseText))}catch(e){resolve(request.responseText)}}else{resolve(request.response)}});request.addEventListener("error",function(){throw new Error(request.statusText)});request.open("GET",url,true);request.responseType=responseType;request.send()}catch(e){reject(e)}})},loadScript:function loadScript(url){return new Promise(function(resolve,reject){loadjs_umd(url,{success:resolve,error:reject})})},loadSprite:function loadSprite(url,id){if(!utils.is.string(url)){return}var prefix="cache-";var hasId=utils.is.string(id);var isCached=false;var exists=function exists(){return document.querySelectorAll("#"+id).length};function injectSprite(data){if(hasId&&exists()){return}this.innerHTML=data;document.body.insertBefore(this,document.body.childNodes[0])}if(!hasId||!exists()){var container=document.createElement("div");utils.toggleHidden(container,true);if(hasId){container.setAttribute("id",id)}if(support.storage){var cached=window.localStorage.getItem(prefix+id);isCached=cached!==null;if(isCached){var data=JSON.parse(cached);injectSprite.call(container,data.content);return}}utils.fetch(url).then(function(result){if(utils.is.empty(result)){return}if(support.storage){window.localStorage.setItem(prefix+id,JSON.stringify({content:result}))}injectSprite.call(container,result)}).catch(function(){})}},generateId:function generateId(prefix){return prefix+"-"+Math.floor(Math.random()*1e4)},inFrame:function inFrame(){try{return window.self!==window.top}catch(e){return true}},wrap:function wrap(elements,wrapper){var targets=elements.length?elements:[elements];Array.from(targets).reverse().forEach(function(element,index){var child=index>0?wrapper.cloneNode(true):wrapper;var parent=element.parentNode;var sibling=element.nextSibling;child.appendChild(element);if(sibling){parent.insertBefore(child,sibling)}else{parent.appendChild(child)}})},createElement:function createElement(type,attributes,text){var element=document.createElement(type);if(utils.is.object(attributes)){utils.setAttributes(element,attributes)}if(utils.is.string(text)){element.textContent=text}return element},insertAfter:function insertAfter(element,target){target.parentNode.insertBefore(element,target.nextSibling)},insertElement:function insertElement(type,parent,attributes,text){parent.appendChild(utils.createElement(type,attributes,text))},removeElement:function removeElement(element){if(!utils.is.element(element)||!utils.is.element(element.parentNode)){return}if(utils.is.nodeList(element)||utils.is.array(element)){Array.from(element).forEach(utils.removeElement);return}element.parentNode.removeChild(element)},emptyElement:function emptyElement(element){var length=element.childNodes.length;while(length>0){element.removeChild(element.lastChild);length-=1}},replaceElement:function replaceElement(newChild,oldChild){if(!utils.is.element(oldChild)||!utils.is.element(oldChild.parentNode)||!utils.is.element(newChild)){return null}oldChild.parentNode.replaceChild(newChild,oldChild);return newChild},setAttributes:function setAttributes(element,attributes){if(!utils.is.element(element)||utils.is.empty(attributes)){return}Object.keys(attributes).forEach(function(key){element.setAttribute(key,attributes[key])})},getAttributesFromSelector:function getAttributesFromSelector(sel,existingAttributes){if(!utils.is.string(sel)||utils.is.empty(sel)){return{}}var attributes={};var existing=existingAttributes;sel.split(",").forEach(function(s){var selector=s.trim();var className=selector.replace(".","");var stripped=selector.replace(/[[\]]/g,"");var parts=stripped.split("=");var key=parts[0];var value=parts.length>1?parts[1].replace(/["']/g,""):"";var start=selector.charAt(0);switch(start){case".":if(utils.is.object(existing)&&utils.is.string(existing.class)){existing.class+=" "+className}attributes.class=className;break;case"#":attributes.id=selector.replace("#","");break;case"[":attributes[key]=value;break;default:break}});return attributes},toggleClass:function toggleClass(element,className,toggle){if(utils.is.element(element)){var contains=element.classList.contains(className);element.classList[toggle?"add":"remove"](className);return toggle&&!contains||!toggle&&contains}return null},hasClass:function hasClass(element,className){return utils.is.element(element)&&element.classList.contains(className)},toggleHidden:function toggleHidden(element,toggle){if(!utils.is.element(element)){return}if(toggle){element.setAttribute("hidden","")}else{element.removeAttribute("hidden")}},matches:function matches(element,selector){var prototype={Element:Element};function match(){return Array.from(document.querySelectorAll(selector)).includes(this)}var matches=prototype.matches||prototype.webkitMatchesSelector||prototype.mozMatchesSelector||prototype.msMatchesSelector||match;return matches.call(element,selector)},getElements:function getElements(selector){return this.elements.container.querySelectorAll(selector)},getElement:function getElement(selector){return this.elements.container.querySelector(selector)},findElements:function findElements(){try{this.elements.controls=utils.getElement.call(this,this.config.selectors.controls.wrapper);this.elements.buttons={play:utils.getElements.call(this,this.config.selectors.buttons.play),pause:utils.getElement.call(this,this.config.selectors.buttons.pause),restart:utils.getElement.call(this,this.config.selectors.buttons.restart),rewind:utils.getElement.call(this,this.config.selectors.buttons.rewind),fastForward:utils.getElement.call(this,this.config.selectors.buttons.fastForward),mute:utils.getElement.call(this,this.config.selectors.buttons.mute),pip:utils.getElement.call(this,this.config.selectors.buttons.pip),airplay:utils.getElement.call(this,this.config.selectors.buttons.airplay),settings:utils.getElement.call(this,this.config.selectors.buttons.settings),captions:utils.getElement.call(this,this.config.selectors.buttons.captions),fullscreen:utils.getElement.call(this,this.config.selectors.buttons.fullscreen)};this.elements.progress=utils.getElement.call(this,this.config.selectors.progress);this.elements.inputs={seek:utils.getElement.call(this,this.config.selectors.inputs.seek),volume:utils.getElement.call(this,this.config.selectors.inputs.volume)};this.elements.display={buffer:utils.getElement.call(this,this.config.selectors.display.buffer),duration:utils.getElement.call(this,this.config.selectors.display.duration),currentTime:utils.getElement.call(this,this.config.selectors.display.currentTime)};if(utils.is.element(this.elements.progress)){this.elements.display.seekTooltip=this.elements.progress.querySelector("."+this.config.classNames.tooltip)}return true}catch(error){this.debug.warn("It looks like there is a problem with your custom controls HTML",error);this.toggleNativeControls(true);return false}},getFocusElement:function getFocusElement(){var focused=document.activeElement;if(!focused||focused===document.body){focused=null}else{focused=document.querySelector(":focus")}return focused},trapFocus:function trapFocus(){var element=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var toggle=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!utils.is.element(element)){return}var focusable=utils.getElements.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]");var first=focusable[0];var last=focusable[focusable.length-1];var trap=function trap(event){if(event.key!=="Tab"||event.keyCode!==9){return}var focused=utils.getFocusElement();if(focused===last&&!event.shiftKey){first.focus();event.preventDefault()}else if(focused===first&&event.shiftKey){last.focus();event.preventDefault()}};if(toggle){utils.on(this.elements.container,"keydown",trap,false)}else{utils.off(this.elements.container,"keydown",trap,false)}},toggleListener:function toggleListener(elements,event,callback,toggle,passive,capture){if(utils.is.empty(elements)||utils.is.empty(event)||!utils.is.function(callback)){return}if(utils.is.nodeList(elements)||utils.is.array(elements)){Array.from(elements).forEach(function(element){if(element instanceof Node){utils.toggleListener.call(null,element,event,callback,toggle,passive,capture)}});return}var events=event.split(" ");var options=utils.is.boolean(capture)?capture:false;if(support.passiveListeners){options={passive:utils.is.boolean(passive)?passive:true,capture:utils.is.boolean(capture)?capture:false}}events.forEach(function(type){elements[toggle?"addEventListener":"removeEventListener"](type,callback,options)})},on:function on(element,events,callback,passive,capture){utils.toggleListener(element,events,callback,true,passive,capture)},off:function off(element,events,callback,passive,capture){utils.toggleListener(element,events,callback,false,passive,capture)},dispatchEvent:function dispatchEvent(element,type,bubbles,detail){if(!utils.is.element(element)||!utils.is.string(type)){return}var event=new CustomEvent(type,{bubbles:utils.is.boolean(bubbles)?bubbles:false,detail:Object.assign({},detail,{plyr:utils.is.plyr(this)?this:null})});element.dispatchEvent(event)},toggleState:function toggleState(element,input){if(utils.is.array(element)||utils.is.nodeList(element)){Array.from(element).forEach(function(target){return utils.toggleState(target,input)});return}if(!utils.is.element(element)){return}var pressed=element.getAttribute("aria-pressed")==="true";var state=utils.is.boolean(input)?input:!pressed;element.setAttribute("aria-pressed",state)},getPercentage:function getPercentage(current,max){if(current===0||max===0||Number.isNaN(current)||Number.isNaN(max)){return 0}return(current/max*100).toFixed(2)},getHours:function getHours(value){return parseInt(value/60/60%60,10)},getMinutes:function getMinutes(value){return parseInt(value/60%60,10)},getSeconds:function getSeconds(value){return parseInt(value%60,10)},formatTime:function formatTime(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var displayHours=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var inverted=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!utils.is.number(time)){return this.formatTime(null,displayHours,inverted)}var format=function format(value){return("0"+value).slice(-2)};var hours=this.getHours(time);var mins=this.getMinutes(time);var secs=this.getSeconds(time);if(displayHours||hours>0){hours=hours+":"}else{hours=""}return""+(inverted?"-":"")+hours+format(mins)+":"+format(secs)},extend:function extend(){var target=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};for(var _len=arguments.length,sources=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){sources[_key-1]=arguments[_key]}if(!sources.length){return target}var source=sources.shift();if(!utils.is.object(source)){return target}Object.keys(source).forEach(function(key){if(utils.is.object(source[key])){if(!Object.keys(target).includes(key)){Object.assign(target,defineProperty$1({},key,{}))}utils.extend(target[key],source[key])}else{Object.assign(target,defineProperty$1({},key,source[key]))}});return utils.extend.apply(utils,[target].concat(toConsumableArray(sources)))},getProviderByUrl:function getProviderByUrl(url){if(/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(url)){return providers.youtube}if(/^https?:\/\/player.vimeo.com\/video\/\d{8,}(?=\b|\/)/.test(url)){return providers.vimeo}return null},parseYouTubeId:function parseYouTubeId(url){if(utils.is.empty(url)){return null}var regex=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;return url.match(regex)?RegExp.$2:url},parseVimeoId:function parseVimeoId(url){if(utils.is.empty(url)){return null}if(utils.is.number(Number(url))){return url}var regex=/^.*(vimeo.com\/|video\/)(\d+).*/;return url.match(regex)?RegExp.$2:url},parseUrl:function parseUrl(url){var parser=document.createElement("a");parser.href=url;return parser},getUrlParams:function getUrlParams(input){var search=input;if(input.startsWith("http://")||input.startsWith("https://")){var _parseUrl=this.parseUrl(input);search=_parseUrl.search}if(this.is.empty(search)){return null}var hashes=search.slice(search.indexOf("?")+1).split("&");return hashes.reduce(function(params,hash){var _hash$split=hash.split("="),_hash$split2=slicedToArray(_hash$split,2),key=_hash$split2[0],val=_hash$split2[1];return Object.assign(params,defineProperty$1({},key,decodeURIComponent(val)))},{})},buildUrlParams:function buildUrlParams(input){if(!utils.is.object(input)){return""}return Object.keys(input).map(function(key){return encodeURIComponent(key)+"="+encodeURIComponent(input[key])}).join("&")},stripHTML:function stripHTML(source){var fragment=document.createDocumentFragment();var element=document.createElement("div");fragment.appendChild(element);element.innerHTML=source;return fragment.firstChild.innerText},getAspectRatio:function getAspectRatio(width,height){var getRatio=function getRatio(w,h){return h===0?w:getRatio(h,w%h)};var ratio=getRatio(width,height);return width/ratio+":"+height/ratio},get transitionEndEvent(){var element=document.createElement("span");var events={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};var type=Object.keys(events).find(function(event){return element.style[event]!==undefined});return utils.is.string(type)?events[type]:false},repaint:function repaint(element){setTimeout(function(){utils.toggleHidden(element,true);element.offsetHeight;utils.toggleHidden(element,false)},0)}};var support={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function check(type,provider,inline){var api=false;var ui=false;var browser=utils.getBrowser();var playsInline=browser.isIPhone&&inline&&support.inline;switch(provider+":"+type){case"html5:video":api=support.video;ui=api&&support.rangeInput&&(!browser.isIPhone||playsInline);break;case"html5:audio":api=support.audio;ui=api&&support.rangeInput;break;case"youtube:video":case"vimeo:video":api=true;ui=support.rangeInput&&(!browser.isIPhone||playsInline);break;default:api=support.audio&&support.video;ui=api&&support.rangeInput}return{api:api,ui:ui}},pip:function(){var browser=utils.getBrowser();return!browser.isIPhone&&utils.is.function(utils.createElement("video").webkitSetPresentationMode)}(),airplay:utils.is.function(window.WebKitPlaybackTargetAvailabilityEvent),inline:"playsInline"in document.createElement("video"),mime:function mime(type){var media=this.media;try{if(!this.isHTML5||!utils.is.function(media.canPlayType)){return false}if(this.isVideo){switch(type){case"video/webm":return media.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,"");case"video/mp4":return media.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,"");case"video/ogg":return media.canPlayType('video/ogg; codecs="theora"').replace(/no/,"");default:return false}}else if(this.isAudio){switch(type){case"audio/mpeg":return media.canPlayType("audio/mpeg;").replace(/no/,"");case"audio/ogg":return media.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"");case"audio/wav":return media.canPlayType('audio/wav; codecs="1"').replace(/no/,"");default:return false}}}catch(e){return false}return false},textTracks:"textTracks"in document.createElement("video"),passiveListeners:function(){var supported=false;try{var options=Object.defineProperty({},"passive",{get:function get(){supported=true;return null}});window.addEventListener("test",null,options)}catch(e){}return supported}(),rangeInput:function(){var range=document.createElement("input");range.type="range";return range.type==="range"}(),touch:"ontouchstart"in document.documentElement,transitions:utils.transitionEndEvent!==false,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches};var noop=function noop(){};var Console=function(){function Console(){var enabled=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;classCallCheck(this,Console);this.enabled=window.console&&enabled;if(this.enabled){this.log("Debugging enabled")}}createClass(Console,[{key:"log",get:function get(){return this.enabled?Function.prototype.bind.call(console.log,console):noop}},{key:"warn",get:function get(){return this.enabled?Function.prototype.bind.call(console.warn,console):noop}},{key:"error",get:function get(){return this.enabled?Function.prototype.bind.call(console.error,console):noop}}]);return Console}();var browser=utils.getBrowser();function onChange(){if(!this.enabled){return}var button=this.player.elements.buttons.fullscreen;if(utils.is.element(button)){utils.toggleState(button,this.active)}utils.dispatchEvent(this.target,this.active?"enterfullscreen":"exitfullscreen",true);if(!browser.isIos){utils.trapFocus.call(this.player,this.target,this.active)}}function toggleFallback(){var toggle=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(toggle){this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}}else{window.scrollTo(this.scrollPosition.x,this.scrollPosition.y)}document.body.style.overflow=toggle?"hidden":"";utils.toggleClass(this.target,this.player.config.classNames.fullscreen.fallback,toggle);onChange.call(this)}var Fullscreen=function(){function Fullscreen(player){var _this=this;classCallCheck(this,Fullscreen);this.player=player;this.prefix=Fullscreen.prefix;this.name=Fullscreen.name;this.scrollPosition={x:0,y:0};utils.on(document,this.prefix==="ms"?"MSFullscreenChange":this.prefix+"fullscreenchange",function(){onChange.call(_this)});utils.on(this.player.elements.container,"dblclick",function(){_this.toggle()});utils.on(this.player.elements.controls,"dblclick",function(event){return event.stopPropagation()});this.update()}createClass(Fullscreen,[{key:"update",value:function update(){if(this.enabled){this.player.debug.log((Fullscreen.native?"Native":"Fallback")+" fullscreen enabled")}else{this.player.debug.log("Fullscreen not supported and fallback disabled")}utils.toggleClass(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function enter(){if(!this.enabled){return}if(browser.isIos&&this.player.config.fullscreen.iosNative){if(this.player.playing){this.target.webkitEnterFullscreen()}}else if(!Fullscreen.native){toggleFallback.call(this,true)}else if(!this.prefix){this.target.requestFullScreen()}else if(!utils.is.empty(this.prefix)){this.target[this.prefix+"Request"+this.name]()}}},{key:"exit",value:function exit(){if(!this.enabled){return}if(browser.isIos&&this.player.config.fullscreen.iosNative){this.target.webkitExitFullscreen();this.player.play()}else if(!Fullscreen.native){toggleFallback.call(this,false)}else if(!this.prefix){document.cancelFullScreen()}else if(!utils.is.empty(this.prefix)){var action=this.prefix==="moz"?"Cancel":"Exit";document[""+this.prefix+action+this.name]()}}},{key:"toggle",value:function toggle(){if(!this.active){this.enter()}else{this.exit()}}},{key:"enabled",get:function get(){var fallback=this.player.config.fullscreen.fallback&&!utils.inFrame();return(Fullscreen.native||fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function get(){if(!this.enabled){return false}if(!Fullscreen.native){return utils.hasClass(this.target,this.player.config.classNames.fullscreen.fallback)}var element=!this.prefix?document.fullscreenElement:document[""+this.prefix+this.name+"Element"];return element===this.target}},{key:"target",get:function get(){return browser.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function get(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function get(){if(utils.is.function(document.exitFullscreen)){return false}var value="";var prefixes=["webkit","moz","ms"];prefixes.some(function(pre){if(utils.is.function(document[pre+"ExitFullscreen"])||utils.is.function(document[pre+"CancelFullScreen"])){value=pre;return true}return false});return value}},{key:"name",get:function get(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}}]);return Fullscreen}();var captions={setup:function setup(){if(!this.supported.ui){return}var stored=this.storage.get("language");if(!utils.is.empty(stored)){this.captions.language=stored}if(utils.is.empty(this.captions.language)){this.captions.language=this.config.captions.language.toLowerCase()}if(!utils.is.boolean(this.captions.active)){var active=this.storage.get("captions");if(utils.is.boolean(active)){this.captions.active=active}else{this.captions.active=this.config.captions.active}}if(!this.isVideo||this.isYouTube||this.isHTML5&&!support.textTracks){if(utils.is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")){controls.setCaptionsMenu.call(this)}return}if(!utils.is.element(this.elements.captions)){this.elements.captions=utils.createElement("div",utils.getAttributesFromSelector(this.config.selectors.captions));utils.insertAfter(this.elements.captions,this.elements.wrapper)}utils.toggleClass(this.elements.container,this.config.classNames.captions.enabled,!utils.is.empty(captions.getTracks.call(this)));var tracks=captions.getTracks.call(this);if(utils.is.empty(tracks)){return}var browser=utils.getBrowser();if(browser.isIE&&window.URL){var elements=this.media.querySelectorAll("track");Array.from(elements).forEach(function(track){var src=track.getAttribute("src");var href=utils.parseUrl(src);if(href.hostname!==window.location.href.hostname&&["http:","https:"].includes(href.protocol)){utils.fetch(src,"blob").then(function(blob){track.setAttribute("src",window.URL.createObjectURL(blob))}).catch(function(){utils.removeElement(track)})}})}captions.setLanguage.call(this);captions.show.call(this);if(utils.is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")){controls.setCaptionsMenu.call(this)}},setLanguage:function setLanguage(){var _this=this;if(this.isHTML5&&this.isVideo){captions.getTracks.call(this).forEach(function(track){utils.on(track,"cuechange",function(event){return captions.setCue.call(_this,event)});track.mode="hidden"});var currentTrack=captions.getCurrentTrack.call(this);if(utils.is.track(currentTrack)){if(Array.from(currentTrack.activeCues||[]).length){captions.setCue.call(this,currentTrack)}}}else if(this.isVimeo&&this.captions.active){this.embed.enableTextTrack(this.language)}},getTracks:function getTracks(){if(utils.is.nullOrUndefined(this.media)){return[]}return Array.from(this.media.textTracks||[]).filter(function(track){return["captions","subtitles"].includes(track.kind)})},getCurrentTrack:function getCurrentTrack(){var _this2=this;return captions.getTracks.call(this).find(function(track){return track.language.toLowerCase()===_this2.language})},setCue:function setCue(input){var track=utils.is.event(input)?input.target:input;var activeCues=track.activeCues;var active=activeCues.length&&activeCues[0];var currentTrack=captions.getCurrentTrack.call(this);if(track!==currentTrack){return}if(utils.is.cue(active)){captions.setText.call(this,active.getCueAsHTML())}else{captions.setText.call(this,null)}utils.dispatchEvent.call(this,this.media,"cuechange")},setText:function setText(input){if(!this.supported.ui){return}if(utils.is.element(this.elements.captions)){var content=utils.createElement("span");utils.emptyElement(this.elements.captions);var caption=!utils.is.nullOrUndefined(input)?input:"";if(utils.is.string(caption)){content.textContent=caption.trim()}else{content.appendChild(caption)}this.elements.captions.appendChild(content)}else{this.debug.warn("No captions element to render to")}},show:function show(){if(!utils.is.element(this.elements.buttons.captions)){return}var active=this.storage.get("captions");if(!utils.is.boolean(active)){active=this.config.captions.active}else{this.captions.active=active}if(active){utils.toggleClass(this.elements.container,this.config.classNames.captions.active,true);utils.toggleState(this.elements.buttons.captions,true)}}};var ui={addStyleHook:function addStyleHook(){utils.toggleClass(this.elements.container,this.config.selectors.container.replace(".",""),true);utils.toggleClass(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function toggleNativeControls(){var toggle=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(toggle&&this.isHTML5){this.media.setAttribute("controls","")}else{this.media.removeAttribute("controls")}},build:function build(){var _this=this;this.listeners.media();if(!this.supported.ui){this.debug.warn("Basic support only for "+this.provider+" "+this.type);ui.toggleNativeControls.call(this,true);return}if(!utils.is.element(this.elements.controls)){controls.inject.call(this);this.listeners.controls()}if(!utils.is.element(this.elements.controls)){return}ui.toggleNativeControls.call(this);captions.setup.call(this);this.volume=null;this.muted=null;this.speed=null;this.loop=null;this.options.quality=[];ui.timeUpdate.call(this);ui.checkPlaying.call(this);this.ready=true;setTimeout(function(){utils.dispatchEvent.call(_this,_this.media,"ready")},0);ui.setTitle.call(this)},setTitle:function setTitle(){var label=this.config.i18n.play;if(utils.is.string(this.config.title)&&!utils.is.empty(this.config.title)){label+=", "+this.config.title;this.elements.container.setAttribute("aria-label",this.config.title)}if(utils.is.nodeList(this.elements.buttons.play)){Array.from(this.elements.buttons.play).forEach(function(button){button.setAttribute("aria-label",label)})}if(this.isEmbed){var iframe=utils.getElement.call(this,"iframe");if(!utils.is.element(iframe)){return}var title=!utils.is.empty(this.config.title)?this.config.title:"video";iframe.setAttribute("title",this.config.i18n.frameTitle.replace("{title}",title))}},checkPlaying:function checkPlaying(){utils.toggleClass(this.elements.container,this.config.classNames.playing,this.playing);utils.toggleClass(this.elements.container,this.config.classNames.stopped,this.paused);utils.toggleState(this.elements.buttons.play,this.playing);this.toggleControls(!this.playing)},checkLoading:function checkLoading(event){var _this2=this;this.loading=["stalled","waiting"].includes(event.type);clearTimeout(this.timers.loading);this.timers.loading=setTimeout(function(){utils.toggleClass(_this2.elements.container,_this2.config.classNames.loading,_this2.loading);_this2.toggleControls(_this2.loading)},this.loading?250:0)},checkFailed:function checkFailed(){var _this3=this;this.failed=this.media.networkState===3;if(this.failed){utils.toggleClass(this.elements.container,this.config.classNames.loading,false);utils.toggleClass(this.elements.container,this.config.classNames.error,true)}clearTimeout(this.timers.failed);this.timers.loading=setTimeout(function(){utils.toggleClass(_this3.elements.container,_this3.config.classNames.loading,_this3.loading);_this3.toggleControls(_this3.loading)},this.loading?250:0)},updateVolume:function updateVolume(){if(!this.supported.ui){return}if(utils.is.element(this.elements.inputs.volume)){ui.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume)}if(utils.is.element(this.elements.buttons.mute)){utils.toggleState(this.elements.buttons.mute,this.muted||this.volume===0)}},setRange:function setRange(target){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(!utils.is.element(target)){return}target.value=value;controls.updateRangeFill.call(this,target)},setProgress:function setProgress(target,input){var value=utils.is.number(input)?input:0;var progress=utils.is.element(target)?target:this.elements.display.buffer;if(utils.is.element(progress)){progress.value=value;var label=progress.getElementsByTagName("span")[0];if(utils.is.element(label)){label.childNodes[0].nodeValue=value}}},updateProgress:function updateProgress(event){if(!this.supported.ui||!utils.is.event(event)){return}var value=0;if(event){switch(event.type){case"timeupdate":case"seeking":value=utils.getPercentage(this.currentTime,this.duration);if(event.type==="timeupdate"){ui.setRange.call(this,this.elements.inputs.seek,value)}break;case"playing":case"progress":ui.setProgress.call(this,this.elements.display.buffer,this.buffered*100);break;default:break}}},updateTimeDisplay:function updateTimeDisplay(){var target=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var time=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var inverted=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!utils.is.element(target)||!utils.is.number(time)){return}var displayHours=utils.getHours(this.duration)>0;target.textContent=utils.formatTime(time,displayHours,inverted)},timeUpdate:function timeUpdate(event){var invert=!utils.is.element(this.elements.display.duration)&&this.config.invertTime;ui.updateTimeDisplay.call(this,this.elements.display.currentTime,invert?this.duration-this.currentTime:this.currentTime,invert);if(event&&event.type==="timeupdate"&&this.media.seeking){return}ui.updateProgress.call(this,event)},durationUpdate:function durationUpdate(){if(!this.supported.ui){return}var hasDuration=utils.is.element(this.elements.display.duration);if(!hasDuration&&this.config.displayDuration&&this.paused){ui.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration)}if(hasDuration){ui.updateTimeDisplay.call(this,this.elements.display.duration,this.duration)}controls.updateSeekTooltip.call(this)}};var browser$2=utils.getBrowser();var controls={updateRangeFill:function updateRangeFill(target){if(!browser$2.isWebkit){return}var range=utils.is.event(target)?target.target:target;if(!utils.is.element(range)||range.getAttribute("type")!=="range"){return}range.style.setProperty("--value",range.value/range.max*100+"%")},getIconUrl:function getIconUrl(){return{url:this.config.iconUrl,absolute:this.config.iconUrl.indexOf("http")===0||browser$2.isIE&&!window.svg4everybody}},createIcon:function createIcon(type,attributes){var namespace="http://www.w3.org/2000/svg";var iconUrl=controls.getIconUrl.call(this);var iconPath=(!iconUrl.absolute?iconUrl.url:"")+"#"+this.config.iconPrefix;var icon=document.createElementNS(namespace,"svg");utils.setAttributes(icon,utils.extend(attributes,{role:"presentation"}));var use=document.createElementNS(namespace,"use");var path=iconPath+"-"+type;if("href"in use){use.setAttributeNS("http://www.w3.org/1999/xlink","href",path)}else{use.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",path)}icon.appendChild(use);return icon},createLabel:function createLabel(type,attr){var text=this.config.i18n[type];var attributes=Object.assign({},attr);switch(type){case"pip":text="PIP";break;case"airplay":text="AirPlay";break;default:break}if("class"in attributes){attributes.class+=" "+this.config.classNames.hidden}else{attributes.class=this.config.classNames.hidden}return utils.createElement("span",attributes,text)},createBadge:function createBadge(text){if(utils.is.empty(text)){return null}var badge=utils.createElement("span",{class:this.config.classNames.menu.value});badge.appendChild(utils.createElement("span",{class:this.config.classNames.menu.badge},text));return badge},createButton:function createButton(buttonType,attr){var button=utils.createElement("button");var attributes=Object.assign({},attr);var type=buttonType;var toggle=false;var label=void 0;var icon=void 0;var labelPressed=void 0;var iconPressed=void 0;if(!("type"in attributes)){attributes.type="button"}if("class"in attributes){if(attributes.class.includes(this.config.classNames.control)){attributes.class+=" "+this.config.classNames.control}}else{attributes.class=this.config.classNames.control}switch(type){case"play":toggle=true;label="play";labelPressed="pause";icon="play";iconPressed="pause";break;case"mute":toggle=true;label="mute";labelPressed="unmute";icon="volume";iconPressed="muted";break;case"captions":toggle=true;label="enableCaptions";labelPressed="disableCaptions";icon="captions-off";iconPressed="captions-on";break;case"fullscreen":toggle=true;label="enterFullscreen";labelPressed="exitFullscreen";icon="enter-fullscreen";iconPressed="exit-fullscreen";break;case"play-large":attributes.class+=" "+this.config.classNames.control+"--overlaid";type="play";label="play";icon="play";break;default:label=type;icon=type}if(toggle){button.appendChild(controls.createIcon.call(this,iconPressed,{class:"icon--pressed"}));button.appendChild(controls.createIcon.call(this,icon,{class:"icon--not-pressed"}));button.appendChild(controls.createLabel.call(this,labelPressed,{class:"label--pressed"}));button.appendChild(controls.createLabel.call(this,label,{class:"label--not-pressed"}));attributes["aria-pressed"]=false;attributes["aria-label"]=this.config.i18n[label]}else{button.appendChild(controls.createIcon.call(this,icon));button.appendChild(controls.createLabel.call(this,label))}utils.extend(attributes,utils.getAttributesFromSelector(this.config.selectors.buttons[type],attributes));utils.setAttributes(button,attributes);if(type==="play"){if(!utils.is.array(this.elements.buttons[type])){this.elements.buttons[type]=[]}this.elements.buttons[type].push(button)}else{this.elements.buttons[type]=button}return button},createRange:function createRange(type,attributes){var label=utils.createElement("label",{for:attributes.id,class:this.config.classNames.hidden},this.config.i18n[type]);var input=utils.createElement("input",utils.extend(utils.getAttributesFromSelector(this.config.selectors.inputs[type]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off"},attributes));this.elements.inputs[type]=input;controls.updateRangeFill.call(this,input);return{label:label,input:input}},createProgress:function createProgress(type,attributes){var progress=utils.createElement("progress",utils.extend(utils.getAttributesFromSelector(this.config.selectors.display[type]),{min:0,max:100,value:0},attributes));if(type!=="volume"){progress.appendChild(utils.createElement("span",null,"0"));var suffix="";switch(type){case"played":suffix=this.config.i18n.played;break;case"buffer":suffix=this.config.i18n.buffered;break;default:break}progress.textContent="% "+suffix.toLowerCase()}this.elements.display[type]=progress;return progress},createTime:function createTime(type){var container=utils.createElement("div",{class:"plyr__time"});container.appendChild(utils.createElement("span",{class:this.config.classNames.hidden},this.config.i18n[type]));container.appendChild(utils.createElement("span",utils.getAttributesFromSelector(this.config.selectors.display[type]),"00:00"));this.elements.display[type]=container;return container},createMenuItem:function createMenuItem(value,list,type,title){var badge=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var checked=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var item=utils.createElement("li");var label=utils.createElement("label",{class:this.config.classNames.control});var radio=utils.createElement("input",utils.extend(utils.getAttributesFromSelector(this.config.selectors.inputs[type]),{type:"radio",name:"plyr-"+type,value:value,checked:checked,class:"plyr__sr-only"}));var faux=utils.createElement("span",{"aria-hidden":true});label.appendChild(radio);label.appendChild(faux);label.insertAdjacentHTML("beforeend",title);if(utils.is.element(badge)){label.appendChild(badge)}item.appendChild(label);list.appendChild(item)},updateSeekTooltip:function updateSeekTooltip(event){if(!this.config.tooltips.seek||!utils.is.element(this.elements.inputs.seek)||!utils.is.element(this.elements.display.seekTooltip)||this.duration===0){return}var percent=0;var clientRect=this.elements.inputs.seek.getBoundingClientRect();var visible=this.config.classNames.tooltip+"--visible";if(utils.is.event(event)){percent=100/clientRect.width*(event.pageX-clientRect.left)}else if(utils.hasClass(this.elements.display.seekTooltip,visible)){percent=parseFloat(this.elements.display.seekTooltip.style.left,10)}else{return}if(percent<0){percent=0}else if(percent>100){percent=100}ui.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*percent);this.elements.display.seekTooltip.style.left=percent+"%";if(utils.is.event(event)&&["mouseenter","mouseleave"].includes(event.type)){utils.toggleClass(this.elements.display.seekTooltip,visible,event.type==="mouseenter")}},toggleTab:function toggleTab(setting,toggle){var tab=this.elements.settings.tabs[setting];var pane=this.elements.settings.panes[setting];utils.toggleHidden(tab,!toggle);utils.toggleHidden(pane,!toggle)},setQualityMenu:function setQualityMenu(options){var _this=this;if(!utils.is.element(this.elements.settings.panes.quality)){return}var type="quality";var list=this.elements.settings.panes.quality.querySelector("ul");if(utils.is.array(options)){this.options.quality=options.filter(function(quality){return _this.config.quality.options.includes(quality)})}else{this.options.quality=this.config.quality.options}var toggle=!utils.is.empty(this.options.quality)&&this.isYouTube;controls.toggleTab.call(this,type,toggle);if(!toggle){return}utils.emptyElement(list);var getBadge=function getBadge(quality){var label="";switch(quality){case"hd2160":label="4K";break;case"hd1440":label="WQHD";break;case"hd1080":label="HD";break;case"hd720":label="HD";break;default:break}if(!label.length){return null}return controls.createBadge.call(_this,label)};this.options.quality.forEach(function(quality){return controls.createMenuItem.call(_this,quality,list,type,controls.getLabel.call(_this,"quality",quality),getBadge(quality))});controls.updateSetting.call(this,type,list)},getLabel:function getLabel(setting,value){switch(setting){case"speed":return value===1?"Normal":value+"&times;";case"quality":switch(value){case"hd2160":return"2160P";case"hd1440":return"1440P";case"hd1080":return"1080P";case"hd720":return"720P";case"large":return"480P";case"medium":return"360P";case"small":return"240P";case"tiny":return"Tiny";case"default":return"Auto";default:return value}case"captions":return controls.getLanguage.call(this);default:return null}},updateSetting:function updateSetting(setting,container){var pane=this.elements.settings.panes[setting];var value=null;var list=container;switch(setting){case"captions":value=this.captions.active?this.captions.language:"";break;default:value=this[setting];if(utils.is.empty(value)){value=this.config[setting].default}if(!this.options[setting].includes(value)){this.debug.warn("Unsupported value of '"+value+"' for "+setting);return}if(!this.config[setting].options.includes(value)){this.debug.warn("Disabled value of '"+value+"' for "+setting);return}break}if(!utils.is.element(list)){list=pane&&pane.querySelector("ul")}if(!utils.is.empty(value)){var label=this.elements.settings.tabs[setting].querySelector("."+this.config.classNames.menu.value);label.innerHTML=controls.getLabel.call(this,setting,value)}var target=list&&list.querySelector('input[value="'+value+'"]');if(utils.is.element(target)){target.checked=true}},getLanguage:function getLanguage(){if(!this.supported.ui){return null}if(!support.textTracks||!captions.getTracks.call(this).length){return this.config.i18n.none}if(this.captions.active){var currentTrack=captions.getCurrentTrack.call(this);if(utils.is.track(currentTrack)){return currentTrack.label}}return this.config.i18n.disabled},setCaptionsMenu:function setCaptionsMenu(){var _this2=this;var type="captions";var list=this.elements.settings.panes.captions.querySelector("ul");var hasTracks=captions.getTracks.call(this).length;controls.toggleTab.call(this,type,hasTracks);utils.emptyElement(list);if(!hasTracks){return}var tracks=captions.getTracks.call(this).map(function(track){return{language:track.language,label:!utils.is.empty(track.label)?track.label:track.language.toUpperCase()}});tracks.unshift({language:"",label:this.config.i18n.none});tracks.forEach(function(track){controls.createMenuItem.call(_this2,track.language,list,"language",track.label||track.language,controls.createBadge.call(_this2,track.language.toUpperCase()),track.language.toLowerCase()===_this2.captions.language.toLowerCase())});controls.updateSetting.call(this,type,list)},setSpeedMenu:function setSpeedMenu(){var _this3=this;if(!utils.is.element(this.elements.settings.panes.speed)){return}var type="speed";if(!utils.is.array(this.options.speed)||!this.options.speed.length){this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]}this.options.speed=this.options.speed.filter(function(speed){return _this3.config.speed.options.includes(speed)});var toggle=!utils.is.empty(this.options.speed);controls.toggleTab.call(this,type,toggle);if(!toggle){return}var list=this.elements.settings.panes.speed.querySelector("ul");utils.toggleHidden(this.elements.settings.tabs.speed,false);utils.toggleHidden(this.elements.settings.panes.speed,false);utils.emptyElement(list);this.options.speed.forEach(function(speed){return controls.createMenuItem.call(_this3,speed,list,type,controls.getLabel.call(_this3,"speed",speed))});controls.updateSetting.call(this,type,list)},toggleMenu:function toggleMenu(event){var form=this.elements.settings.form;var button=this.elements.buttons.settings;if(!utils.is.element(form)||!utils.is.element(button)){return}var show=utils.is.boolean(event)?event:utils.is.element(form)&&form.getAttribute("aria-hidden")==="true";if(utils.is.event(event)){var isMenuItem=utils.is.element(form)&&form.contains(event.target);var isButton=event.target===this.elements.buttons.settings;if(isMenuItem||!isMenuItem&&!isButton&&show){return}if(isButton){event.stopPropagation()}}if(utils.is.element(button)){button.setAttribute("aria-expanded",show)}if(utils.is.element(form)){form.setAttribute("aria-hidden",!show);utils.toggleClass(this.elements.container,this.config.classNames.menu.open,show);if(show){form.removeAttribute("tabindex")}else{form.setAttribute("tabindex",-1)}}},getTabSize:function getTabSize(tab){var clone=tab.cloneNode(true);clone.style.position="absolute";clone.style.opacity=0;clone.setAttribute("aria-hidden",false);Array.from(clone.querySelectorAll("input[name]")).forEach(function(input){var name=input.getAttribute("name");input.setAttribute("name",name+"-clone")});tab.parentNode.appendChild(clone);var width=clone.scrollWidth;var height=clone.scrollHeight;utils.removeElement(clone);return{width:width,height:height}},showTab:function showTab(event){var menu=this.elements.settings.menu;var tab=event.target;var show=tab.getAttribute("aria-expanded")==="false";var pane=document.getElementById(tab.getAttribute("aria-controls"));if(!utils.is.element(pane)){return}var isTab=pane.getAttribute("role")==="tabpanel";if(!isTab){return}var current=menu.querySelector('[role="tabpanel"][aria-hidden="false"]');var container=current.parentNode;Array.from(menu.querySelectorAll('[aria-controls="'+current.getAttribute("id")+'"]')).forEach(function(toggle){toggle.setAttribute("aria-expanded",false)});if(support.transitions&&!support.reducedMotion){container.style.width=current.scrollWidth+"px";container.style.height=current.scrollHeight+"px";var size=controls.getTabSize.call(this,pane);var restore=function restore(e){if(e.target!==container||!["width","height"].includes(e.propertyName)){return}container.style.width="";container.style.height="";utils.off(container,utils.transitionEndEvent,restore)};utils.on(container,utils.transitionEndEvent,restore);container.style.width=size.width+"px";container.style.height=size.height+"px"}current.setAttribute("aria-hidden",true);current.setAttribute("tabindex",-1);pane.setAttribute("aria-hidden",!show);tab.setAttribute("aria-expanded",show);pane.removeAttribute("tabindex");pane.querySelectorAll("button:not(:disabled), input:not(:disabled), [tabindex]")[0].focus()},create:function create(data){var _this4=this;if(utils.is.empty(this.config.controls)){return null}var container=utils.createElement("div",utils.getAttributesFromSelector(this.config.selectors.controls.wrapper));if(this.config.controls.includes("restart")){container.appendChild(controls.createButton.call(this,"restart"))}if(this.config.controls.includes("rewind")){container.appendChild(controls.createButton.call(this,"rewind"))}if(this.config.controls.includes("play")){container.appendChild(controls.createButton.call(this,"play"))}if(this.config.controls.includes("fast-forward")){container.appendChild(controls.createButton.call(this,"fastForward"))}if(this.config.controls.includes("progress")){var progress=utils.createElement("div",utils.getAttributesFromSelector(this.config.selectors.progress));var seek=controls.createRange.call(this,"seek",{id:"plyr-seek-"+data.id});progress.appendChild(seek.label);progress.appendChild(seek.input);progress.appendChild(controls.createProgress.call(this,"buffer"));if(this.config.tooltips.seek){var tooltip=utils.createElement("span",{role:"tooltip",class:this.config.classNames.tooltip},"00:00");progress.appendChild(tooltip);this.elements.display.seekTooltip=tooltip}this.elements.progress=progress;container.appendChild(this.elements.progress)}if(this.config.controls.includes("current-time")){container.appendChild(controls.createTime.call(this,"currentTime"))}if(this.config.controls.includes("duration")){container.appendChild(controls.createTime.call(this,"duration"))}if(this.config.controls.includes("mute")){container.appendChild(controls.createButton.call(this,"mute"))}if(this.config.controls.includes("volume")){var volume=utils.createElement("div",{class:"plyr__volume"});var attributes={max:1,step:.05,value:this.config.volume};var range=controls.createRange.call(this,"volume",utils.extend(attributes,{id:"plyr-volume-"+data.id}));volume.appendChild(range.label);volume.appendChild(range.input);this.elements.volume=volume;container.appendChild(volume)}if(this.config.controls.includes("captions")){container.appendChild(controls.createButton.call(this,"captions"))}if(this.config.controls.includes("settings")&&!utils.is.empty(this.config.settings)){var menu=utils.createElement("div",{class:"plyr__menu"});menu.appendChild(controls.createButton.call(this,"settings",{id:"plyr-settings-toggle-"+data.id,"aria-haspopup":true,"aria-controls":"plyr-settings-"+data.id,"aria-expanded":false}));var form=utils.createElement("form",{class:"plyr__menu__container",id:"plyr-settings-"+data.id,"aria-hidden":true,"aria-labelled-by":"plyr-settings-toggle-"+data.id,role:"tablist",tabindex:-1});var inner=utils.createElement("div");var home=utils.createElement("div",{id:"plyr-settings-"+data.id+"-home","aria-hidden":false,"aria-labelled-by":"plyr-settings-toggle-"+data.id,role:"tabpanel"});var tabs=utils.createElement("ul",{role:"tablist"});this.config.settings.forEach(function(type){var tab=utils.createElement("li",{role:"tab",hidden:""});var button=utils.createElement("button",utils.extend(utils.getAttributesFromSelector(_this4.config.selectors.buttons.settings),{type:"button",class:_this4.config.classNames.control+" "+_this4.config.classNames.control+"--forward",id:"plyr-settings-"+data.id+"-"+type+"-tab","aria-haspopup":true,"aria-controls":"plyr-settings-"+data.id+"-"+type,"aria-expanded":false}),_this4.config.i18n[type]);var value=utils.createElement("span",{class:_this4.config.classNames.menu.value});value.innerHTML=data[type];button.appendChild(value);tab.appendChild(button);tabs.appendChild(tab);_this4.elements.settings.tabs[type]=tab});home.appendChild(tabs);inner.appendChild(home);this.config.settings.forEach(function(type){var pane=utils.createElement("div",{id:"plyr-settings-"+data.id+"-"+type,"aria-hidden":true,"aria-labelled-by":"plyr-settings-"+data.id+"-"+type+"-tab",role:"tabpanel",tabindex:-1,hidden:""});var back=utils.createElement("button",{type:"button",class:_this4.config.classNames.control+" "+_this4.config.classNames.control+"--back","aria-haspopup":true,"aria-controls":"plyr-settings-"+data.id+"-home","aria-expanded":false},_this4.config.i18n[type]);pane.appendChild(back);var options=utils.createElement("ul");pane.appendChild(options);inner.appendChild(pane);_this4.elements.settings.panes[type]=pane});form.appendChild(inner);menu.appendChild(form);container.appendChild(menu);this.elements.settings.form=form;this.elements.settings.menu=menu}if(this.config.controls.includes("pip")&&support.pip){container.appendChild(controls.createButton.call(this,"pip"))}if(this.config.controls.includes("airplay")&&support.airplay){container.appendChild(controls.createButton.call(this,"airplay"))}if(this.config.controls.includes("fullscreen")){container.appendChild(controls.createButton.call(this,"fullscreen"))}if(this.config.controls.includes("play-large")){this.elements.container.appendChild(controls.createButton.call(this,"play-large"))}this.elements.controls=container;if(this.config.controls.includes("settings")&&this.config.settings.includes("speed")){controls.setSpeedMenu.call(this)}return container},inject:function inject(){var _this5=this;if(this.config.loadSprite){var icon=controls.getIconUrl.call(this);if(icon.absolute){utils.loadSprite(icon.url,"sprite-plyr")}}this.id=Math.floor(Math.random()*1e4);var container=null;this.elements.controls=null;if(utils.is.string(this.config.controls)||utils.is.element(this.config.controls)){container=this.config.controls}else if(utils.is.function(this.config.controls)){container=this.config.controls({id:this.id,seektime:this.config.seekTime,title:this.config.title})}else{container=controls.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:controls.getLanguage.call(this)})}var target=void 0;if(utils.is.string(this.config.selectors.controls.container)){target=document.querySelector(this.config.selectors.controls.container)}if(!utils.is.element(target)){target=this.elements.container}if(utils.is.element(container)){target.appendChild(container)}else{target.insertAdjacentHTML("beforeend",container)}if(!utils.is.element(this.elements.controls)){utils.findElements.call(this)}if(window.navigator.userAgent.includes("Edge")){utils.repaint(target)}if(this.config.tooltips.controls){var labels=utils.getElements.call(this,[this.config.selectors.controls.wrapper," ",this.config.selectors.labels," .",this.config.classNames.hidden].join(""));Array.from(labels).forEach(function(label){utils.toggleClass(label,_this5.config.classNames.hidden,false);utils.toggleClass(label,_this5.config.classNames.tooltip,true);label.setAttribute("role","tooltip")})}}};var browser$1=utils.getBrowser();var Listeners=function(){function Listeners(player){classCallCheck(this,Listeners);this.player=player;this.lastKey=null;this.handleKey=this.handleKey.bind(this);this.toggleMenu=this.toggleMenu.bind(this)}createClass(Listeners,[{key:"handleKey",value:function handleKey(event){var _this=this;var code=event.keyCode?event.keyCode:event.which;var pressed=event.type==="keydown";var repeat=pressed&&code===this.lastKey;if(event.altKey||event.ctrlKey||event.metaKey||event.shiftKey){return}if(!utils.is.number(code)){return}var seekByKey=function seekByKey(){_this.player.currentTime=_this.player.duration/10*(code-48)};if(pressed){var preventDefault=[48,49,50,51,52,53,54,56,57,32,75,38,40,77,39,37,70,67,73,76,79];var focused=utils.getFocusElement();if(utils.is.element(focused)&&utils.matches(focused,this.player.config.selectors.editable)){return}if(preventDefault.includes(code)){event.preventDefault();event.stopPropagation()}switch(code){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(!repeat){seekByKey()}break;case 32:case 75:if(!repeat){this.player.togglePlay()}break;case 38:this.player.increaseVolume(.1);break;case 40:this.player.decreaseVolume(.1);break;case 77:if(!repeat){this.player.muted=!this.player.muted}break;case 39:this.player.forward();break;case 37:this.player.rewind();break;case 70:this.player.fullscreen.toggle();break;case 67:if(!repeat){this.player.toggleCaptions()}break;case 76:this.player.loop=!this.player.loop;break;default:break}if(!this.player.fullscreen.enabled&&this.player.fullscreen.active&&code===27){this.player.fullscreen.toggle()}this.lastKey=code}else{this.lastKey=null}}},{key:"toggleMenu",value:function toggleMenu(event){controls.toggleMenu.call(this.player,event)}},{key:"global",value:function global(){var toggle=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(this.player.config.keyboard.global){utils.toggleListener(window,"keydown keyup",this.handleKey,toggle,false)}utils.toggleListener(document.body,"click",this.toggleMenu,toggle)}},{key:"container",value:function container(){var _this2=this;if(!this.player.config.keyboard.global&&this.player.config.keyboard.focused){utils.on(this.player.elements.container,"keydown keyup",this.handleKey,false)}utils.on(this.player.elements.container,"focusout",function(event){utils.toggleClass(event.target,_this2.player.config.classNames.tabFocus,false)});utils.on(this.player.elements.container,"keydown",function(event){if(event.keyCode!==9){return}setTimeout(function(){utils.toggleClass(utils.getFocusElement(),_this2.player.config.classNames.tabFocus,true)},0)});if(this.player.config.hideControls){utils.on(this.player.elements.container,"mouseenter mouseleave mousemove touchstart touchend touchmove enterfullscreen exitfullscreen",function(event){_this2.player.toggleControls(event)})}}},{key:"media",value:function media(){var _this3=this;utils.on(this.player.media,"timeupdate seeking",function(event){return ui.timeUpdate.call(_this3.player,event)});utils.on(this.player.media,"durationchange loadedmetadata",function(event){return ui.durationUpdate.call(_this3.player,event)});utils.on(this.player.media,"loadeddata",function(){utils.toggleHidden(_this3.player.elements.volume,!_this3.player.hasAudio);utils.toggleHidden(_this3.player.elements.buttons.mute,!_this3.player.hasAudio)});utils.on(this.player.media,"ended",function(){if(_this3.player.isHTML5&&_this3.player.isVideo&&_this3.player.config.showPosterOnEnd){_this3.player.restart();_this3.player.media.load()}});utils.on(this.player.media,"progress playing",function(event){return ui.updateProgress.call(_this3.player,event)});utils.on(this.player.media,"volumechange",function(event){return ui.updateVolume.call(_this3.player,event)});utils.on(this.player.media,"playing play pause ended emptied",function(event){return ui.checkPlaying.call(_this3.player,event)});utils.on(this.player.media,"waiting canplay seeked playing",function(event){return ui.checkLoading.call(_this3.player,event)});if(this.player.supported.ui&&this.player.config.clickToPlay&&!this.player.isAudio){var wrapper=utils.getElement.call(this.player,"."+this.player.config.classNames.video);if(!utils.is.element(wrapper)){return}utils.on(wrapper,"click",function(){if(_this3.player.config.hideControls&&support.touch&&!_this3.player.paused){return}if(_this3.player.paused){_this3.player.play()}else if(_this3.player.ended){_this3.player.restart();_this3.player.play()}else{_this3.player.pause()}})}if(this.player.supported.ui&&this.player.config.disableContextMenu){utils.on(this.player.media,"contextmenu",function(event){event.preventDefault()},false)}utils.on(this.player.media,"volumechange",function(){_this3.player.storage.set({volume:_this3.player.volume,muted:_this3.player.muted})});utils.on(this.player.media,"ratechange",function(){controls.updateSetting.call(_this3.player,"speed");_this3.player.storage.set({speed:_this3.player.speed})});utils.on(this.player.media,"qualitychange",function(){controls.updateSetting.call(_this3.player,"quality");_this3.player.storage.set({quality:_this3.player.quality})});utils.on(this.player.media,"languagechange",function(){controls.updateSetting.call(_this3.player,"captions");_this3.player.storage.set({language:_this3.player.language})});utils.on(this.player.media,"captionsenabled captionsdisabled",function(){controls.updateSetting.call(_this3.player,"captions");_this3.player.storage.set({captions:_this3.player.captions.active})});utils.on(this.player.media,this.player.config.events.concat(["keyup","keydown"]).join(" "),function(event){var detail={};if(event.type==="error"){detail=_this3.player.media.error}utils.dispatchEvent.call(_this3.player,_this3.player.elements.container,event.type,true,detail)})}},{key:"controls",value:function controls$$1(){var _this4=this;var inputEvent=browser$1.isIE?"change":"input";var proxy=function proxy(event,handlerKey,defaultHandler){var customHandler=_this4.player.config.listeners[handlerKey];if(utils.is.function(customHandler)){customHandler.call(_this4.player,event)}if(!event.defaultPrevented&&utils.is.function(defaultHandler)){defaultHandler.call(_this4.player,event)}};utils.on(this.player.elements.buttons.play,"click",function(event){return proxy(event,"play",function(){_this4.player.togglePlay()})});utils.on(this.player.elements.buttons.restart,"click",function(event){return proxy(event,"restart",function(){_this4.player.restart()})});utils.on(this.player.elements.buttons.rewind,"click",function(event){return proxy(event,"rewind",function(){_this4.player.rewind()})});utils.on(this.player.elements.buttons.forward,"click",function(event){return proxy(event,"forward",function(){_this4.player.forward()})});utils.on(this.player.elements.buttons.mute,"click",function(event){return proxy(event,"mute",function(){_this4.player.muted=!_this4.player.muted})});utils.on(this.player.elements.buttons.captions,"click",function(event){return proxy(event,"captions",function(){_this4.player.toggleCaptions()})});utils.on(this.player.elements.buttons.fullscreen,"click",function(event){return proxy(event,"fullscreen",function(){_this4.player.fullscreen.toggle()})});utils.on(this.player.elements.buttons.pip,"click",function(event){return proxy(event,"pip",function(){_this4.player.pip="toggle"})});utils.on(this.player.elements.buttons.airplay,"click",function(event){return proxy(event,"airplay",function(){_this4.player.airplay()})});utils.on(this.player.elements.buttons.settings,"click",function(event){controls.toggleMenu.call(_this4.player,event)});utils.on(this.player.elements.settings.form,"click",function(event){event.stopPropagation();if(utils.matches(event.target,_this4.player.config.selectors.inputs.language)){proxy(event,"language",function(){_this4.player.language=event.target.value})}else if(utils.matches(event.target,_this4.player.config.selectors.inputs.quality)){proxy(event,"quality",function(){_this4.player.quality=event.target.value})}else if(utils.matches(event.target,_this4.player.config.selectors.inputs.speed)){proxy(event,"speed",function(){_this4.player.speed=parseFloat(event.target.value)})}else{controls.showTab.call(_this4.player,event)}});utils.on(this.player.elements.inputs.seek,inputEvent,function(event){return proxy(event,"seek",function(){_this4.player.currentTime=event.target.value/event.target.max*_this4.player.duration})});if(this.player.config.toggleInvert&&!utils.is.element(this.player.elements.display.duration)){utils.on(this.player.elements.display.currentTime,"click",function(){if(_this4.player.currentTime===0){return}_this4.player.config.invertTime=!_this4.player.config.invertTime;ui.timeUpdate.call(_this4.player)})}utils.on(this.player.elements.inputs.volume,inputEvent,function(event){return proxy(event,"volume",function(){_this4.player.volume=event.target.value})});if(browser$1.isWebkit){utils.on(utils.getElements.call(this.player,'input[type="range"]'),"input",function(event){controls.updateRangeFill.call(_this4.player,event.target)})}utils.on(this.player.elements.progress,"mouseenter mouseleave mousemove",function(event){return controls.updateSeekTooltip.call(_this4.player,event)});if(this.player.config.hideControls){utils.on(this.player.elements.controls,"mouseenter mouseleave",function(event){_this4.player.elements.controls.hover=event.type==="mouseenter"});utils.on(this.player.elements.controls,"mousedown mouseup touchstart touchend touchcancel",function(event){_this4.player.elements.controls.pressed=["mousedown","touchstart"].includes(event.type)});utils.on(this.player.elements.controls,"focusin focusout",function(event){_this4.player.toggleControls(event)})}utils.on(this.player.elements.inputs.volume,"wheel",function(event){return proxy(event,"volume",function(){var inverted=event.webkitDirectionInvertedFromDevice;var step=1/50;var direction=0;if(event.deltaY<0||event.deltaX>0){if(inverted){_this4.player.decreaseVolume(step);direction=-1}else{_this4.player.increaseVolume(step);direction=1}}if(event.deltaY>0||event.deltaX<0){if(inverted){_this4.player.increaseVolume(step);direction=1}else{_this4.player.decreaseVolume(step);direction=-1}}if(direction===1&&_this4.player.media.volume<1||direction===-1&&_this4.player.media.volume>0){event.preventDefault()}})},false)}},{key:"clear",value:function clear(){this.global(false)}}]);return Listeners}();var Storage=function(){function Storage(player){classCallCheck(this,Storage);this.enabled=player.config.storage.enabled;this.key=player.config.storage.key}createClass(Storage,[{key:"get",value:function get(key){if(!Storage.supported){return null}var store=window.localStorage.getItem(this.key);if(utils.is.empty(store)){return null}var json=JSON.parse(store);return utils.is.string(key)&&key.length?json[key]:json}},{key:"set",value:function set(object){if(!Storage.supported||!this.enabled){return}if(!utils.is.object(object)){return}var storage=this.get();if(utils.is.empty(storage)){storage={}}utils.extend(storage,object);window.localStorage.setItem(this.key,JSON.stringify(storage))}}],[{key:"supported",get:function get(){try{if(!("localStorage"in window)){return false}var test="___test";window.localStorage.setItem(test,test);window.localStorage.removeItem(test);return true}catch(e){return false}}}]);return Storage}();var Ads=function(){function Ads(player){var _this=this;classCallCheck(this,Ads);this.player=player;this.publisherId=player.config.ads.publisherId;this.enabled=player.isHTML5&&player.isVideo&&player.config.ads.enabled&&utils.is.string(this.publisherId)&&this.publisherId.length;this.playing=false;this.initialized=false;this.elements={container:null,displayContainer:null};this.manager=null;this.loader=null;this.cuePoints=null;this.events={};this.safetyTimer=null;this.countdownTimer=null;this.managerPromise=new Promise(function(resolve,reject){_this.on("loaded",resolve);_this.on("error",reject)});this.load()}createClass(Ads,[{key:"load",value:function load(){var _this2=this;if(this.enabled){if(!utils.is.object(window.google)||!utils.is.object(window.google.ima)){utils.loadScript(this.player.config.urls.googleIMA.api).then(function(){_this2.ready()}).catch(function(){_this2.trigger("error",new Error("Google IMA SDK failed to load"))})}else{this.ready()}}}},{key:"ready",value:function ready(){var _this3=this;this.startSafetyTimer(12e3,"ready()");this.managerPromise.then(function(){_this3.clearSafetyTimer("onAdsManagerLoaded()")});this.listeners();this.setupIMA()}},{key:"setupIMA",value:function setupIMA(){this.elements.container=utils.createElement("div",{class:this.player.config.classNames.ads});this.player.elements.container.appendChild(this.elements.container);google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);google.ima.settings.setLocale(this.player.config.ads.language);this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container);this.requestAds()}},{key:"requestAds",value:function requestAds(){var _this4=this;var container=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer);this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(event){return _this4.onAdsManagerLoaded(event)},false);this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(error){return _this4.onAdError(error)},false);var request=new google.ima.AdsRequest;request.adTagUrl=this.tagUrl;request.linearAdSlotWidth=container.offsetWidth;request.linearAdSlotHeight=container.offsetHeight;request.nonLinearAdSlotWidth=container.offsetWidth;request.nonLinearAdSlotHeight=container.offsetHeight;request.forceNonLinearFullSlot=false;this.loader.requestAds(request)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function pollCountdown(){var _this5=this;var start=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!start){clearInterval(this.countdownTimer);this.elements.container.removeAttribute("data-badge-text");return}var update=function update(){var time=utils.formatTime(Math.max(_this5.manager.getRemainingTime(),0));var label=_this5.player.config.i18n.advertisement+" - "+time;_this5.elements.container.setAttribute("data-badge-text",label)};this.countdownTimer=setInterval(update,100)}},{key:"onAdsManagerLoaded",value:function onAdsManagerLoaded(event){var _this6=this;var settings=new google.ima.AdsRenderingSettings;settings.restoreCustomPlaybackStateOnAdBreakComplete=true;settings.enablePreloading=true;this.manager=event.getAdsManager(this.player,settings);this.cuePoints=this.manager.getCuePoints();this.cuePoints.forEach(function(cuePoint){if(cuePoint!==0&&cuePoint!==-1&&cuePoint<_this6.player.duration){var seekElement=_this6.player.elements.progress;if(seekElement){var cuePercentage=100/_this6.player.duration*cuePoint;var cue=utils.createElement("span",{class:_this6.player.config.classNames.cues});cue.style.left=cuePercentage.toString()+"%";seekElement.appendChild(cue)}}});this.manager.setVolume(this.player.volume);this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(error){return _this6.onAdError(error)});Object.keys(google.ima.AdEvent.Type).forEach(function(type){_this6.manager.addEventListener(google.ima.AdEvent.Type[type],function(event){return _this6.onAdEvent(event)})});this.trigger("loaded")}},{key:"onAdEvent",value:function onAdEvent(event){var _this7=this;var container=this.player.elements.container;var ad=event.getAd();var dispatchEvent=function dispatchEvent(type){var event="ads"+type.replace(/_/g,"").toLowerCase();utils.dispatchEvent.call(_this7.player,_this7.player.media,event)};switch(event.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded");dispatchEvent(event.type);this.pollCountdown(true);if(!ad.isLinear()){ad.width=container.offsetWidth;ad.height=container.offsetHeight}break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:dispatchEvent(event.type);this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:dispatchEvent(event.type);this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:dispatchEvent(event.type);this.pollCountdown();this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:dispatchEvent(event.type);break;default:break}}},{key:"onAdError",value:function onAdError(event){this.cancel();this.player.debug.warn("Ads error",event)}},{key:"listeners",value:function listeners(){var _this8=this;var container=this.player.elements.container;var time=void 0;this.player.on("ended",function(){_this8.loader.contentComplete()});this.player.on("seeking",function(){time=_this8.player.currentTime;return time});this.player.on("seeked",function(){var seekedTime=_this8.player.currentTime;_this8.cuePoints.forEach(function(cuePoint,index){if(time<cuePoint&&cuePoint<seekedTime){_this8.manager.discardAdBreak();_this8.cuePoints.splice(index,1)}})});window.addEventListener("resize",function(){_this8.manager.resize(container.offsetWidth,container.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function play(){var _this9=this;var container=this.player.elements.container;if(!this.managerPromise){this.resumeContent()}this.managerPromise.then(function(){_this9.elements.displayContainer.initialize();try{if(!_this9.initialized){_this9.manager.init(container.offsetWidth,container.offsetHeight,google.ima.ViewMode.NORMAL);_this9.manager.start()}_this9.initialized=true}catch(adError){_this9.onAdError(adError)}}).catch(function(){})}},{key:"resumeContent",value:function resumeContent(){this.elements.container.style.zIndex="";this.playing=false;if(this.player.currentTime<this.player.duration){this.player.play()}}},{key:"pauseContent",value:function pauseContent(){this.elements.container.style.zIndex=3;this.playing=true;this.player.pause()}},{key:"cancel",value:function cancel(){if(this.initialized){this.resumeContent()}this.trigger("error");this.loadAds()}},{key:"loadAds",value:function loadAds(){var _this10=this;this.managerPromise.then(function(){if(_this10.manager){_this10.manager.destroy()}_this10.managerPromise=new Promise(function(resolve){_this10.on("loaded",resolve);_this10.player.debug.log(_this10.manager)});_this10.requestAds()}).catch(function(){})}},{key:"trigger",value:function trigger(event){var _this11=this;for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}var handlers=this.events[event];if(utils.is.array(handlers)){handlers.forEach(function(handler){if(utils.is.function(handler)){handler.apply(_this11,args)}})}}},{key:"on",value:function on(event,callback){if(!utils.is.array(this.events[event])){this.events[event]=[]}this.events[event].push(callback);return this}},{key:"startSafetyTimer",value:function startSafetyTimer(time,from){var _this12=this;this.player.debug.log("Safety timer invoked from: "+from);this.safetyTimer=setTimeout(function(){_this12.cancel();_this12.clearSafetyTimer("startSafetyTimer()")},time)}},{key:"clearSafetyTimer",value:function clearSafetyTimer(from){if(!utils.is.nullOrUndefined(this.safetyTimer)){this.player.debug.log("Safety timer cleared from: "+from);clearTimeout(this.safetyTimer);this.safetyTimer=null}}},{key:"tagUrl",get:function get(){var params={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};var base="https://go.aniview.com/api/adserver6/vast/";return base+"?"+utils.buildUrlParams(params)}}]);return Ads}();var youtube={setup:function setup(){var _this=this;utils.toggleClass(this.elements.wrapper,this.config.classNames.embed,true);youtube.setAspectRatio.call(this);if(utils.is.object(window.YT)&&utils.is.function(window.YT.Player)){youtube.ready.call(this)}else{utils.loadScript(this.config.urls.youtube.api).catch(function(error){_this.debug.warn("YouTube API failed to load",error)});window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[];window.onYouTubeReadyCallbacks.push(function(){youtube.ready.call(_this)});window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(callback){callback()})}}},getTitle:function getTitle(videoId){var _this2=this;if(utils.is.function(this.embed.getVideoData)){var _embed$getVideoData=this.embed.getVideoData(),title=_embed$getVideoData.title;if(utils.is.empty(title)){this.config.title=title;ui.setTitle.call(this);return}}var key=this.config.keys.google;if(utils.is.string(key)&&!utils.is.empty(key)){var url="https://www.googleapis.com/youtube/v3/videos?id="+videoId+"&key="+key+"&fields=items(snippet(title))&part=snippet";utils.fetch(url).then(function(result){if(utils.is.object(result)){_this2.config.title=result.items[0].snippet.title;ui.setTitle.call(_this2)}}).catch(function(){})}},setAspectRatio:function setAspectRatio(){var ratio=this.config.ratio.split(":");this.elements.wrapper.style.paddingBottom=100/ratio[0]*ratio[1]+"%"},ready:function ready(){var player=this;var currentId=player.media.getAttribute("id");if(!utils.is.empty(currentId)&&currentId.startsWith("youtube-")){return}var source=player.media.getAttribute("src");if(utils.is.empty(source)){source=player.media.getAttribute(this.config.attributes.embed.id)}var videoId=utils.parseYouTubeId(source);var id=utils.generateId(player.provider);var container=utils.createElement("div",{id:id});player.media=utils.replaceElement(container,player.media);player.embed=new window.YT.Player(id,{videoId:videoId,playerVars:{autoplay:player.config.autoplay?1:0,controls:player.supported.ui?0:1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,disablekb:1,playsinline:1,widget_referrer:window?window.location.href:null,cc_load_policy:player.captions.active?1:0,cc_lang_pref:player.config.captions.language},events:{onError:function onError(event){if(utils.is.object(player.media.error)){return}var detail={code:event.data};switch(event.data){case 2:detail.message="The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.";break;case 5:detail.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";break;case 100:detail.message="The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.";break;case 101:case 150:detail.message="The owner of the requested video does not allow it to be played in embedded players.";break;default:detail.message="An unknown error occured";break}player.media.error=detail;utils.dispatchEvent.call(player,player.media,"error")},onPlaybackQualityChange:function onPlaybackQualityChange(event){var instance=event.target;player.media.quality=instance.getPlaybackQuality();utils.dispatchEvent.call(player,player.media,"qualitychange")},onPlaybackRateChange:function onPlaybackRateChange(event){var instance=event.target;player.media.playbackRate=instance.getPlaybackRate();utils.dispatchEvent.call(player,player.media,"ratechange")},onReady:function onReady(event){var instance=event.target;youtube.getTitle.call(player,videoId);player.media.play=function(){instance.playVideo()};player.media.pause=function(){instance.pauseVideo()};player.media.stop=function(){instance.stopVideo()};player.media.duration=instance.getDuration();player.media.paused=true;player.media.currentTime=0;Object.defineProperty(player.media,"currentTime",{get:function get(){return Number(instance.getCurrentTime())},set:function set(time){player.media.seeking=true;utils.dispatchEvent.call(player,player.media,"seeking");instance.seekTo(time)}});Object.defineProperty(player.media,"playbackRate",{get:function get(){return instance.getPlaybackRate()},set:function set(input){instance.setPlaybackRate(input)}});Object.defineProperty(player.media,"quality",{get:function get(){return instance.getPlaybackQuality()},set:function set(input){utils.dispatchEvent.call(player,player.media,"qualityrequested",false,{quality:input});instance.setPlaybackQuality(input)}});var volume=player.config.volume;Object.defineProperty(player.media,"volume",{get:function get(){return volume},set:function set(input){volume=input;instance.setVolume(volume*100);utils.dispatchEvent.call(player,player.media,"volumechange")}});var muted=player.config.muted;Object.defineProperty(player.media,"muted",{get:function get(){return muted},set:function set(input){var toggle=utils.is.boolean(input)?input:muted;muted=toggle;instance[toggle?"mute":"unMute"]();utils.dispatchEvent.call(player,player.media,"volumechange")}});Object.defineProperty(player.media,"currentSrc",{get:function get(){return instance.getVideoUrl()}});Object.defineProperty(player.media,"ended",{get:function get(){return player.currentTime===player.duration}});player.options.speed=instance.getAvailablePlaybackRates();if(player.supported.ui){player.media.setAttribute("tabindex",-1)}utils.dispatchEvent.call(player,player.media,"timeupdate");utils.dispatchEvent.call(player,player.media,"durationchange");clearInterval(player.timers.buffering);player.timers.buffering=setInterval(function(){player.media.buffered=instance.getVideoLoadedFraction();if(player.media.lastBuffered===null||player.media.lastBuffered<player.media.buffered){utils.dispatchEvent.call(player,player.media,"progress")}player.media.lastBuffered=player.media.buffered;if(player.media.buffered===1){clearInterval(player.timers.buffering);utils.dispatchEvent.call(player,player.media,"canplaythrough")}},200);setTimeout(function(){return ui.build.call(player)},50)},onStateChange:function onStateChange(event){var instance=event.target;clearInterval(player.timers.playing);console.warn(event.data);switch(event.data){case-1:utils.dispatchEvent.call(player,player.media,"timeupdate");player.media.buffered=instance.getVideoLoadedFraction();utils.dispatchEvent.call(player,player.media,"progress");break;case 0:player.media.paused=true;if(player.media.loop){instance.stopVideo();instance.playVideo()}else{utils.dispatchEvent.call(player,player.media,"ended")}break;case 1:if(player.media.seeking){utils.dispatchEvent.call(player,player.media,"seeked")}player.media.seeking=false;if(player.media.paused){utils.dispatchEvent.call(player,player.media,"play")}player.media.paused=false;utils.dispatchEvent.call(player,player.media,"playing");player.timers.playing=setInterval(function(){utils.dispatchEvent.call(player,player.media,"timeupdate")},50);if(player.media.duration!==instance.getDuration()){player.media.duration=instance.getDuration();utils.dispatchEvent.call(player,player.media,"durationchange")}controls.setQualityMenu.call(player,instance.getAvailableQualityLevels());break;case 2:player.media.paused=true;utils.dispatchEvent.call(player,player.media,"pause");break;default:break}utils.dispatchEvent.call(player,player.elements.container,"statechange",false,{code:event.data})}}})}};var vimeo={setup:function setup(){var _this=this;utils.toggleClass(this.elements.wrapper,this.config.classNames.embed,true);vimeo.setAspectRatio.call(this);if(!utils.is.object(window.Vimeo)){utils.loadScript(this.config.urls.vimeo.api).then(function(){vimeo.ready.call(_this)}).catch(function(error){_this.debug.warn("Vimeo API failed to load",error)})}else{vimeo.ready.call(this)}},setAspectRatio:function setAspectRatio(input){var ratio=utils.is.string(input)?input.split(":"):this.config.ratio.split(":");var padding=100/ratio[0]*ratio[1];var height=240;var offset=(height-padding)/(height/50);this.elements.wrapper.style.paddingBottom=padding+"%";this.media.style.transform="translateY(-"+offset+"%)"},ready:function ready(){var _this2=this;var player=this;var options={loop:player.config.loop.active,autoplay:player.autoplay,byline:false,portrait:false,title:false,speed:true,transparent:0,gesture:"media"};var params=utils.buildUrlParams(options);var source=player.media.getAttribute("src");if(utils.is.empty(source)){source=player.media.getAttribute(this.config.attributes.embed.id)}var id=utils.parseVimeoId(source);var iframe=utils.createElement("iframe");var src="https://player.vimeo.com/video/"+id+"?"+params;iframe.setAttribute("src",src);iframe.setAttribute("allowfullscreen","");iframe.setAttribute("allowtransparency","");iframe.setAttribute("allow","autoplay");var wrapper=utils.createElement("div");wrapper.appendChild(iframe);player.media=utils.replaceElement(wrapper,player.media);player.embed=new window.Vimeo.Player(iframe);player.media.paused=true;player.media.currentTime=0;player.media.play=function(){player.embed.play().then(function(){player.media.paused=false})};player.media.pause=function(){player.embed.pause().then(function(){player.media.paused=true})};player.media.stop=function(){player.pause();player.currentTime=0};var currentTime=player.media.currentTime;Object.defineProperty(player.media,"currentTime",{get:function get(){return currentTime},set:function set(time){var paused=player.media.paused;player.media.seeking=true;utils.dispatchEvent.call(player,player.media,"seeking");player.embed.setCurrentTime(time);if(paused){player.pause()}}});var speed=player.config.speed.selected;Object.defineProperty(player.media,"playbackRate",{get:function get(){return speed},set:function set(input){player.embed.setPlaybackRate(input).then(function(){speed=input;utils.dispatchEvent.call(player,player.media,"ratechange")})}});var volume=player.config.volume;Object.defineProperty(player.media,"volume",{get:function get(){return volume},set:function set(input){player.embed.setVolume(input).then(function(){volume=input;utils.dispatchEvent.call(player,player.media,"volumechange")})}});var muted=player.config.muted;Object.defineProperty(player.media,"muted",{get:function get(){return muted},set:function set(input){var toggle=utils.is.boolean(input)?input:false;player.embed.setVolume(toggle?0:player.config.volume).then(function(){muted=toggle;utils.dispatchEvent.call(player,player.media,"volumechange")})}});var loop=player.config.loop;Object.defineProperty(player.media,"loop",{get:function get(){return loop},set:function set(input){var toggle=utils.is.boolean(input)?input:player.config.loop.active;player.embed.setLoop(toggle).then(function(){loop=toggle})}});var currentSrc=void 0;player.embed.getVideoUrl().then(function(value){currentSrc=value});Object.defineProperty(player.media,"currentSrc",{get:function get(){return currentSrc}});Object.defineProperty(player.media,"ended",{get:function get(){return player.currentTime===player.duration}});Promise.all([player.embed.getVideoWidth(),player.embed.getVideoHeight()]).then(function(dimensions){var ratio=utils.getAspectRatio(dimensions[0],dimensions[1]);vimeo.setAspectRatio.call(_this2,ratio)});player.embed.setAutopause(player.config.autopause).then(function(state){player.config.autopause=state});player.embed.getVideoTitle().then(function(title){player.config.title=title;ui.setTitle.call(_this2)});player.embed.getCurrentTime().then(function(value){currentTime=value;utils.dispatchEvent.call(player,player.media,"timeupdate")});player.embed.getDuration().then(function(value){player.media.duration=value;utils.dispatchEvent.call(player,player.media,"durationchange")});player.embed.getTextTracks().then(function(tracks){player.media.textTracks=tracks;captions.setup.call(player)});player.embed.on("cuechange",function(data){var cue=null;if(data.cues.length){cue=utils.stripHTML(data.cues[0].text)}captions.setText.call(player,cue)});player.embed.on("loaded",function(){if(utils.is.element(player.embed.element)&&player.supported.ui){var frame=player.embed.element;frame.setAttribute("tabindex",-1)}});player.embed.on("play",function(){if(player.media.paused){utils.dispatchEvent.call(player,player.media,"play")}player.media.paused=false;utils.dispatchEvent.call(player,player.media,"playing")});player.embed.on("pause",function(){player.media.paused=true;utils.dispatchEvent.call(player,player.media,"pause")});player.embed.on("timeupdate",function(data){player.media.seeking=false;currentTime=data.seconds;utils.dispatchEvent.call(player,player.media,"timeupdate")});player.embed.on("progress",function(data){player.media.buffered=data.percent;utils.dispatchEvent.call(player,player.media,"progress");if(parseInt(data.percent,10)===1){utils.dispatchEvent.call(player,player.media,"canplaythrough")}});player.embed.on("seeked",function(){player.media.seeking=false;utils.dispatchEvent.call(player,player.media,"seeked");utils.dispatchEvent.call(player,player.media,"play")});player.embed.on("ended",function(){player.media.paused=true;utils.dispatchEvent.call(player,player.media,"ended")});player.embed.on("error",function(detail){player.media.error=detail;utils.dispatchEvent.call(player,player.media,"error")});setTimeout(function(){return ui.build.call(player)},0)}};var browser$3=utils.getBrowser();var media={setup:function setup(){if(!this.media){this.debug.warn("No media element found!");return}utils.toggleClass(this.elements.container,this.config.classNames.type.replace("{0}",this.type),true);utils.toggleClass(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),true);if(this.isEmbed){utils.toggleClass(this.elements.container,this.config.classNames.type.replace("{0}","video"),true)}if(this.supported.ui){utils.toggleClass(this.elements.container,this.config.classNames.pip.supported,support.pip&&this.isHTML5&&this.isVideo);utils.toggleClass(this.elements.container,this.config.classNames.airplay.supported,support.airplay&&this.isHTML5);utils.toggleClass(this.elements.container,this.config.classNames.stopped,this.config.autoplay);utils.toggleClass(this.elements.container,this.config.classNames.isIos,browser$3.isIos);utils.toggleClass(this.elements.container,this.config.classNames.isTouch,support.touch)}if(this.isVideo){this.elements.wrapper=utils.createElement("div",{class:this.config.classNames.video});utils.wrap(this.media,this.elements.wrapper)}if(this.isEmbed){switch(this.provider){case"youtube":youtube.setup.call(this);break;case"vimeo":vimeo.setup.call(this);break;default:break}}else if(this.isHTML5){ui.setTitle.call(this)}},cancelRequests:function cancelRequests(){if(!this.isHTML5){return}utils.removeElement(this.media.querySelectorAll("source"));this.media.setAttribute("src",this.config.blankVideo);this.media.load();this.debug.log("Cancelled network requests")}};var source={insertElements:function insertElements(type,attributes){var _this=this;if(utils.is.string(attributes)){utils.insertElement(type,this.media,{src:attributes})}else if(utils.is.array(attributes)){attributes.forEach(function(attribute){utils.insertElement(type,_this.media,attribute)})}},change:function change(input){var _this2=this;if(!utils.is.object(input)||!("sources"in input)||!input.sources.length){this.debug.warn("Invalid source format");return}media.cancelRequests.call(this);this.destroy.call(this,function(){utils.removeElement(_this2.media);_this2.media=null;if(utils.is.element(_this2.elements.container)){_this2.elements.container.removeAttribute("class")}_this2.type=input.type;_this2.provider=!utils.is.empty(input.sources[0].provider)?input.sources[0].provider:providers.html5;_this2.supported=support.check(_this2.type,_this2.provider,_this2.config.inline);switch(_this2.provider+":"+_this2.type){case"html5:video":_this2.media=utils.createElement("video");break;case"html5:audio":_this2.media=utils.createElement("audio");break;case"youtube:video":case"vimeo:video":_this2.media=utils.createElement("div",{src:input.sources[0].src});break;default:break}_this2.elements.container.appendChild(_this2.media);if(utils.is.boolean(input.autoplay)){_this2.config.autoplay=input.autoplay}if(_this2.isHTML5){if(_this2.config.crossorigin){_this2.media.setAttribute("crossorigin","")}if(_this2.config.autoplay){_this2.media.setAttribute("autoplay","")}if("poster"in input){_this2.media.setAttribute("poster",input.poster)}if(_this2.config.loop.active){_this2.media.setAttribute("loop","")}if(_this2.config.muted){_this2.media.setAttribute("muted","")}if(_this2.config.inline){_this2.media.setAttribute("playsinline","")}}ui.addStyleHook.call(_this2);if(_this2.isHTML5){source.insertElements.call(_this2,"source",input.sources)}_this2.config.title=input.title;media.setup.call(_this2);if(_this2.isHTML5){if("tracks"in input){source.insertElements.call(_this2,"track",input.tracks)}_this2.media.load()}if(_this2.isHTML5||_this2.isEmbed&&!_this2.supported.ui){ui.build.call(_this2)}_this2.fullscreen.update()},true)}};var Plyr$1=function(){function Plyr(target,options){var _this=this;classCallCheck(this,Plyr);this.timers={};this.ready=false;this.loading=false;this.failed=false;this.media=target;if(utils.is.string(this.media)){this.media=document.querySelectorAll(this.media)}if(window.jQuery&&this.media instanceof jQuery||utils.is.nodeList(this.media)||utils.is.array(this.media)){this.media=this.media[0]}this.config=utils.extend({},defaults,options,function(){try{return JSON.parse(_this.media.getAttribute("data-plyr-config"))}catch(e){return{}}}());this.elements={container:null,buttons:{},display:{},progress:{},inputs:{},settings:{menu:null,panes:{},tabs:{}},captions:null};this.captions={active:null,currentTrack:null};this.fullscreen={active:false};this.options={speed:[],quality:[]};this.debug=new Console(this.config.debug);this.debug.log("Config",this.config);this.debug.log("Support",support);if(utils.is.nullOrUndefined(this.media)||!utils.is.element(this.media)){this.debug.error("Setup failed: no suitable element passed");return}if(this.media.plyr){this.debug.warn("Target already setup");return}if(!this.config.enabled){this.debug.error("Setup failed: disabled by config");return}if(!support.check().api){this.debug.error("Setup failed: no support");return}this.elements.original=this.media.cloneNode(true);var type=this.media.tagName.toLowerCase();var iframe=null;var url=null;var params=null;switch(type){case"div":iframe=this.media.querySelector("iframe");if(utils.is.element(iframe)){url=iframe.getAttribute("src");this.provider=utils.getProviderByUrl(url);this.elements.container=this.media;this.media=iframe;this.elements.container.className="";params=utils.getUrlParams(url);if(!utils.is.empty(params)){var truthy=["1","true"];if(truthy.includes(params.autoplay)){this.config.autoplay=true}if(truthy.includes(params.playsinline)){this.config.inline=true}if(truthy.includes(params.loop)){this.config.loop.active=true}}}else{this.provider=this.media.getAttribute(this.config.attributes.embed.provider);this.media.removeAttribute(this.config.attributes.embed.provider)}if(utils.is.empty(this.provider)||!Object.keys(providers).includes(this.provider)){this.debug.error("Setup failed: Invalid provider");return}this.type=types.video;break;case"video":case"audio":this.type=type;this.provider=providers.html5;if(this.media.hasAttribute("crossorigin")){this.config.crossorigin=true}if(this.media.hasAttribute("autoplay")){this.config.autoplay=true}if(this.media.hasAttribute("playsinline")){this.config.inline=true}if(this.media.hasAttribute("muted")){this.config.muted=true}if(this.media.hasAttribute("loop")){this.config.loop.active=true}break;default:this.debug.error("Setup failed: unsupported type");return}this.supported=support.check(this.type,this.provider,this.config.inline);if(!this.supported.api){this.debug.error("Setup failed: no support");return}this.listeners=new Listeners(this);this.storage=new Storage(this);this.media.plyr=this;if(!utils.is.element(this.elements.container)){this.elements.container=utils.createElement("div");utils.wrap(this.media,this.elements.container)}this.elements.container.setAttribute("tabindex",0);ui.addStyleHook.call(this);media.setup.call(this);if(this.config.debug){utils.on(this.elements.container,this.config.events.join(" "),function(event){_this.debug.log("event: "+event.type)})}if(this.isHTML5||this.isEmbed&&!this.supported.ui){ui.build.call(this)}this.listeners.container();this.listeners.global();this.fullscreen=new Fullscreen(this);this.ads=new Ads(this)}createClass(Plyr,[{key:"play",value:function play(){var _this2=this;if(!utils.is.function(this.media.play)){return null}if(this.ads.enabled&&!this.ads.initialized){return this.ads.managerPromise.then(function(){return _this2.ads.play()}).catch(function(){return _this2.media.play()})}return this.media.play()}},{key:"pause",value:function pause(){if(!this.playing||!utils.is.function(this.media.pause)){return}this.media.pause()}},{key:"togglePlay",value:function togglePlay(input){var toggle=utils.is.boolean(input)?input:!this.playing;if(toggle){this.play()}else{this.pause()}}},{key:"stop",value:function stop(){if(this.isHTML5){this.media.load()}else{this.media.stop()}}},{key:"restart",value:function restart(){this.currentTime=0}},{key:"rewind",value:function rewind(seekTime){this.currentTime=this.currentTime-(utils.is.number(seekTime)?seekTime:this.config.seekTime)}},{key:"forward",value:function forward(seekTime){this.currentTime=this.currentTime+(utils.is.number(seekTime)?seekTime:this.config.seekTime)}},{key:"increaseVolume",value:function increaseVolume(step){var volume=this.media.muted?0:this.volume;this.volume=volume+(utils.is.number(step)?step:1)}},{key:"decreaseVolume",value:function decreaseVolume(step){var volume=this.media.muted?0:this.volume;this.volume=volume-(utils.is.number(step)?step:1)}},{key:"toggleCaptions",value:function toggleCaptions(input){if(!this.supported.ui||!utils.is.element(this.elements.buttons.captions)){return}var show=utils.is.boolean(input)?input:this.elements.container.className.indexOf(this.config.classNames.captions.active)===-1;if(this.captions.active===show){return}this.captions.active=show;utils.toggleState(this.elements.buttons.captions,this.captions.active);utils.toggleClass(this.elements.container,this.config.classNames.captions.active,this.captions.active);utils.dispatchEvent.call(this,this.media,this.captions.active?"captionsenabled":"captionsdisabled")}},{key:"airplay",value:function airplay(){if(support.airplay){this.media.webkitShowPlaybackTargetPicker()}}},{key:"toggleControls",value:function toggleControls(toggle){var _this3=this;if(!utils.is.element(this.elements.controls)){return}if(!this.supported.ui||this.isAudio){return}var delay=0;var show=toggle;var isEnterFullscreen=false;if(!utils.is.boolean(toggle)){if(utils.is.event(toggle)){isEnterFullscreen=toggle.type==="enterfullscreen";show=["mouseenter","mousemove","touchstart","touchmove","focusin"].includes(toggle.type);if(["mousemove","touchmove","touchend"].includes(toggle.type)){delay=2e3}if(toggle.type==="focusin"){delay=3e3;utils.toggleClass(this.elements.controls,this.config.classNames.noTransition,true)}}else{show=utils.hasClass(this.elements.container,this.config.classNames.hideControls)}}clearTimeout(this.timers.controls);if(show||this.paused||this.loading){var toggled=utils.toggleClass(this.elements.container,this.config.classNames.hideControls,false);if(toggled){utils.dispatchEvent.call(this,this.media,"controlsshown")}if(this.paused||this.loading){return}if(support.touch){delay=3e3}}if(!show||this.playing){this.timers.controls=setTimeout(function(){if((_this3.elements.controls.pressed||_this3.elements.controls.hover)&&!isEnterFullscreen){return}if(!utils.hasClass(_this3.elements.container,_this3.config.classNames.hideControls)){utils.toggleClass(_this3.elements.controls,_this3.config.classNames.noTransition,false)}var toggled=utils.toggleClass(_this3.elements.container,_this3.config.classNames.hideControls,true);if(toggled){utils.dispatchEvent.call(_this3,_this3.media,"controlshidden");if(_this3.config.controls.includes("settings")&&!utils.is.empty(_this3.config.settings)){controls.toggleMenu.call(_this3,false)}}},delay)}}},{key:"on",value:function on(event,callback){utils.on(this.elements.container,event,callback)}},{key:"off",value:function off(event,callback){utils.off(this.elements.container,event,callback)}},{key:"destroy",value:function destroy(callback){var _this4=this;var soft=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this.ready){return}var done=function done(){document.body.style.overflow="";_this4.embed=null;if(soft){if(Object.keys(_this4.elements).length){utils.removeElement(_this4.elements.buttons.play);utils.removeElement(_this4.elements.captions);utils.removeElement(_this4.elements.controls);utils.removeElement(_this4.elements.wrapper);_this4.elements.buttons.play=null;_this4.elements.captions=null;_this4.elements.controls=null;_this4.elements.wrapper=null}if(utils.is.function(callback)){callback()}}else{_this4.listeners.clear();utils.replaceElement(_this4.elements.original,_this4.elements.container);utils.dispatchEvent.call(_this4,_this4.elements.original,"destroyed",true);if(utils.is.function(callback)){callback.call(_this4.elements.original)}_this4.ready=false;setTimeout(function(){_this4.elements=null;_this4.media=null},200)}};this.stop();switch(this.provider+":"+this.type){case"html5:video":case"html5:audio":clearTimeout(this.timers.loading);ui.toggleNativeControls.call(this,true);done();break;case"youtube:video":clearInterval(this.timers.buffering);clearInterval(this.timers.playing);if(this.embed!==null&&utils.is.function(this.embed.destroy)){this.embed.destroy()}done();break;case"vimeo:video":if(this.embed!==null){this.embed.unload().then(done)}setTimeout(done,200);break;default:break}}},{key:"supports",value:function supports(type){return support.mime.call(this,type)}},{key:"isHTML5",get:function get(){return Boolean(this.provider===providers.html5)}},{key:"isEmbed",get:function get(){return Boolean(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function get(){return Boolean(this.provider===providers.youtube)}},{key:"isVimeo",get:function get(){return Boolean(this.provider===providers.vimeo)}},{key:"isVideo",get:function get(){return Boolean(this.type===types.video)}},{key:"isAudio",get:function get(){return Boolean(this.type===types.audio)}},{key:"paused",get:function get(){return Boolean(this.media.paused)}},{key:"playing",get:function get(){return Boolean(!this.paused&&!this.ended&&(this.isHTML5?this.media.readyState>2:true))}},{key:"ended",get:function get(){return Boolean(this.media.ended)}},{key:"currentTime",set:function set(input){var targetTime=0;if(utils.is.number(input)){targetTime=input}if(targetTime<0){targetTime=0}else if(targetTime>this.duration){targetTime=this.duration}this.media.currentTime=parseFloat(targetTime.toFixed(4));this.debug.log("Seeking to "+this.currentTime+" seconds")},get:function get(){return Number(this.media.currentTime)}},{key:"buffered",get:function get(){var buffered=this.media.buffered;if(utils.is.number(buffered)){return buffered}if(buffered&&buffered.length&&this.duration>0){return buffered.end(0)/this.duration}return 0}},{key:"seeking",get:function get(){return Boolean(this.media.seeking)}},{key:"duration",get:function get(){var fauxDuration=parseInt(this.config.duration,10);var realDuration=this.media?Number(this.media.duration):0;return!Number.isNaN(fauxDuration)?fauxDuration:realDuration}},{key:"volume",set:function set(value){var volume=value;var max=1;var min=0;if(utils.is.string(volume)){volume=Number(volume)}if(!utils.is.number(volume)){volume=this.storage.get("volume")}if(!utils.is.number(volume)){volume=this.config.volume}if(volume>max){volume=max}if(volume<min){volume=min}this.config.volume=volume;this.media.volume=volume;if(this.muted&&volume>0){this.muted=false}},get:function get(){return Number(this.media.volume)}},{key:"muted",set:function set(mute){var toggle=mute;if(!utils.is.boolean(toggle)){toggle=this.storage.get("muted")}if(!utils.is.boolean(toggle)){toggle=this.config.muted}this.config.muted=toggle;this.media.muted=toggle},get:function get(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function get(){if(!this.isHTML5){return true}if(this.isAudio){return true}return Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function set(input){var speed=null;if(utils.is.number(input)){speed=input}if(!utils.is.number(speed)){speed=this.storage.get("speed")}if(!utils.is.number(speed)){speed=this.config.speed.selected}if(speed<.1){speed=.1}if(speed>2){speed=2}if(!this.config.speed.options.includes(speed)){this.debug.warn("Unsupported speed ("+speed+")");return}this.config.speed.selected=speed;this.media.playbackRate=speed},get:function get(){return Number(this.media.playbackRate)}},{key:"quality",set:function set(input){var quality=null;if(utils.is.string(input)){quality=input}if(!utils.is.string(quality)){quality=this.storage.get("quality")}if(!utils.is.string(quality)){quality=this.config.quality.selected}if(!this.options.quality.includes(quality)){this.debug.warn("Unsupported quality option ("+quality+")");return}this.config.quality.selected=quality;this.media.quality=quality},get:function get(){return this.media.quality}},{key:"loop",set:function set(input){var toggle=utils.is.boolean(input)?input:this.config.loop.active;this.config.loop.active=toggle;this.media.loop=toggle},get:function get(){return Boolean(this.media.loop)}},{key:"source",set:function set(input){source.change.call(this,input)},get:function get(){return this.media.currentSrc}},{key:"poster",set:function set(input){if(!this.isHTML5||!this.isVideo){this.debug.warn("Poster can only be set on HTML5 video");return}if(utils.is.string(input)){this.media.setAttribute("poster",input)}},get:function get(){if(!this.isHTML5||!this.isVideo){return null}return this.media.getAttribute("poster")}},{key:"autoplay",set:function set(input){var toggle=utils.is.boolean(input)?input:this.config.autoplay;this.config.autoplay=toggle},get:function get(){return Boolean(this.config.autoplay)}},{key:"language",set:function set(input){if(!utils.is.string(input)){return}this.toggleCaptions(!utils.is.empty(input));if(utils.is.empty(input)){return}var language=input.toLowerCase();if(this.language===language){return}this.captions.language=language;captions.setText.call(this,null);captions.setLanguage.call(this);utils.dispatchEvent.call(this,this.media,"languagechange")},get:function get(){return this.captions.language}},{key:"pip",set:function set(input){var states={pip:"picture-in-picture",inline:"inline"};if(!support.pip){return}var toggle=utils.is.boolean(input)?input:this.pip===states.inline;this.media.webkitSetPresentationMode(toggle?states.pip:states.inline)},get:function get(){if(!support.pip){return null}return this.media.webkitPresentationMode}}],[{key:"supported",value:function supported(type,provider,inline){return support.check(type,provider,inline)}},{key:"loadSprite",value:function loadSprite(url,id){return utils.loadSprite(url,id)}}]);return Plyr}();return Plyr$1});